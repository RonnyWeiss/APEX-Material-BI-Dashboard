!function(e,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("jquery")):e.jQueryBridget=n(e,e.jQuery)}(window,function(t,e){"use strict";var n=Array.prototype.slice,i=t.console,u=void 0===i?function(){}:function(t){i.error(t)};function o(l,c,d){(d=d||e||t.jQuery)&&(c.prototype.option||(c.prototype.option=function(t){d.isPlainObject(t)&&(this.options=d.extend(!0,this.options,t))}),d.fn[l]=function(t){if("string"!=typeof t)return s=t,this.each(function(t,e){var n=d.data(e,l);n?(n.option(s),n._init()):(n=new c(e,s),d.data(e,l,n))}),this;var i,o,a,r,s,e=n.call(arguments,1);return o=e,r="$()."+l+'("'+(i=t)+'")',(t=this).each(function(t,e){var n=d.data(e,l);n?(e=n[i])&&"_"!=i.charAt(0)?(n=e.apply(n,o),a=void 0===a?n:a):u(r+" is not a valid method"):u(l+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==a?a:t},a(d))}function a(t){!t||t&&t.bridget||(t.bridget=o)}return a(e||t.jQuery),o}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},t=n[t]=n[t]||[];return-1==t.indexOf(e)&&t.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length){e=t.indexOf(e);return-1!=e&&t.splice(e,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],o=0;o<n.length;o++){var a=n[o];i&&i[a]&&(this.off(t,a),delete i[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function p(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],m=h.length;function g(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var b,y=!1;function v(t){if(y||(y=!0,(f=document.createElement("div")).style.width="200px",f.style.padding="1px 2px 3px 4px",f.style.borderStyle="solid",f.style.borderWidth="1px 2px 3px 4px",f.style.boxSizing="border-box",(u=document.body||document.documentElement).appendChild(f),d=g(f),b=200==Math.round(p(d.width)),v.isBoxSizeOuter=b,u.removeChild(f)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=g(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<m;e++)t[h[e]]=0;return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var i=n.isBorderBox="border-box"==e.boxSizing,o=0;o<m;o++){var a=h[o],r=e[a],r=parseFloat(r);n[a]=isNaN(r)?0:r}var s=n.paddingLeft+n.paddingRight,l=n.paddingTop+n.paddingBottom,c=n.marginLeft+n.marginRight,d=n.marginTop+n.marginBottom,u=n.borderLeftWidth+n.borderRightWidth,f=n.borderTopWidth+n.borderBottomWidth,t=i&&b,i=p(e.width);!1!==i&&(n.width=i+(t?0:s+u));i=p(e.height);return!1!==i&&(n.height=i+(t?0:l+f)),n.innerWidth=n.width-(s+u),n.innerHeight=n.height-(l+f),n.outerWidth=n.width+c,n.outerHeight=n.height+d,n}}return v}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var n=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(t,e){return t[n](e)}}),function(e,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("desandro-matches-selector")):e.fizzyUIUtils=n(e,e.matchesSelector)}(window,function(n,a){var l={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,a(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,i){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(i){a(t,i)&&o.push(t);for(var e=t.querySelectorAll(i),n=0;n<e.length;n++)o.push(e[n])}else o.push(t)}),o},l.debounceMethod=function(t,e,i){i=i||100;var o=t.prototype[e],a=e+"Timeout";t.prototype[e]=function(){var t=this[a];clearTimeout(t);var e=arguments,n=this;this[a]=setTimeout(function(){o.apply(n,e),delete n[a]},i)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var c=n.console;return l.htmlInit=function(r,s){l.docReady(function(){var t=l.toDashed(s),i="data-"+t,e=document.querySelectorAll("["+i+"]"),t=document.querySelectorAll(".js-"+t),t=l.makeArray(e).concat(l.makeArray(t)),o=i+"-options",a=n.jQuery;t.forEach(function(e){var t=e.getAttribute(i)||e.getAttribute(o);try{n=t&&JSON.parse(t)}catch(t){return void(c&&c.error("Error parsing "+i+" on "+e.className+": "+t))}var n=new r(e,n);a&&a.data(e,s,n)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],r={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}t=s.prototype=Object.create(t.prototype);t.constructor=s,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,n=this.element.style;for(e in t)n[r[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],a=parseFloat(i),r=parseFloat(o),t=this.layout.size;-1!=i.indexOf("%")&&(a=a/100*t.width),-1!=o.indexOf("%")&&(r=r/100*t.height),a=isNaN(a)?0:a,r=isNaN(r)?0:r,a-=e?t.paddingLeft:t.paddingRight,r-=n?t.paddingTop:t.paddingBottom,this.position.x=a,this.position.y=r},t.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"right":"left",a=this.position.x+t[n?"paddingLeft":"paddingRight"];e[n?"left":"right"]=this.getXValue(a),e[o]="";o=i?"bottom":"top",t=this.position.y+t[i?"paddingTop":"paddingBottom"];e[i?"top":"bottom"]=this.getYValue(t),e[o]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=t==this.position.x&&e==this.position.y;this.setPosition(t,e),!o||this.isTransitioning?((o={}).transform=this.getTranslate(t-n,e-i),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})):this.layoutPosition()},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,n=this._transn;for(e in t.onTransitionEnd)n.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)n.ingProperties[e]=!0,t.isCleaning&&(n.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var l="opacity,"+o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});t.enableTransition=function(){var t;this.isTransitioning||(t=this.layout.options.transitionDuration,this.css({transitionProperty:l,transitionDuration:t="number"==typeof t?t+"ms":t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};t.ontransitionend=function(t){var e,n;t.target===this.element&&(e=this._transn,n=c[t.propertyName]||t.propertyName,delete e.ingProperties[n],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,n={};for(e in t)n[e]="";this.css(n)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return t.removeTransitionStyles=function(){this.css(d)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(o,a){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,n,i){return a(o,t,e,n,i)}):"object"==typeof module&&module.exports?module.exports=a(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=a(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(t,e,o,i,a){"use strict";function n(){}var r=t.console,s=t.jQuery,l=0,c={};function d(t,e){var n=i.getQueryElement(t);n?(this.element=n,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e),e=++l,this.element.outlayerGUID=e,(c[e]=this)._create(),this._getOption("initLayout")&&this.layout()):r&&r.error("Bad element for "+this.constructor.namespace+": "+(n||t))}d.namespace="outlayer",d.Item=a,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=d.prototype;function f(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}i.extend(u,e.prototype),u.option=function(t){i.extend(this.options,t)},u._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var a=new n(e[o],this);i.push(a)}return i},u._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},u.getItemElements=function(){return this.items.map(function(t){return t.element})},u.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=o(this.element)},u._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):i instanceof HTMLElement&&(n=i),this[t]=n?o(n)[e]:i):this[t]=0},u.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},u._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},u._layoutItems=function(t,n){var i;this._emitCompleteOnItems("layout",t),t&&t.length&&(i=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=n||t.isLayoutInstant,i.push(e)},this),this._processLayoutQueue(i))},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},u.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),t=e&&e[1],e=e&&e[2];if(!t.length)return 0;t=parseFloat(t);e=p[e]||1;return t*e}(t),this.stagger;this.stagger=0},u._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){var t;!this._getOption("resizeContainer")||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},u._getContainerSize=n,u._setContainerMeasure=function(t,e){var n;void 0!==t&&((n=this.size).isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},u._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var o,a=t.length;function r(){++o==a&&i()}t&&a?(o=0,t.forEach(function(t){t.once(e,r)})):i()},u.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;this.emitEvent(t,i),s&&(this.$element=this.$element||s(this.element),e?((e=s.Event(e)).type=t,this.$element.trigger(e,n)):this.$element.trigger(t,n))},u.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},u.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},u.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},u.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},u._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},u._manageStamp=n,u._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,t=o(t);return{left:e.left-n.left-t.marginLeft,top:e.top-n.top-t.marginTop,right:n.right-e.right-t.marginRight,bottom:n.bottom-e.bottom-t.marginBottom}},u.handleEvent=i.handleEvent,u.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},i.debounceMethod(d,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},u.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},u.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},u.prepended=function(t){var e=this._itemize(t);e.length&&(t=this.items.slice(0),this.items=e.concat(t),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(t))},u.reveal=function(t){var n;this._emitCompleteOnItems("reveal",t),t&&t.length&&(n=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*n),t.reveal()}))},u.hide=function(t){var n;this._emitCompleteOnItems("hide",t),t&&t.length&&(n=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*n),t.hide()}))},u.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},u.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},u.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},u.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},u.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},u.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},d.data=function(t){t=(t=i.getQueryElement(t))&&t.outlayerGUID;return t&&c[t]},d.create=function(t,e){var n=f(d);return n.defaults=i.extend({},d.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},d.compatOptions),n.namespace=t,n.data=d.data,n.Item=f(a),i.htmlInit(n,t),s&&s.bridget&&s.bridget(t,n),n};var p={ms:1,s:1e3};return d.Item=a,d}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,s){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";t=e.prototype;return t._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},t.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(n=(e=this.items[0])&&e.element,this.columnWidth=n&&s(n).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,n=e/t,t=t-e%t,n=Math[t&&t<1?"round":"floor"](n);this.cols=Math.max(n,1)},t.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=s(t);this.containerWidth=t&&t.innerWidth},t._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),n=Math.min(n,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),e={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,a=n+i.col,r=i.col;r<a;r++)this.colYs[r]=o;return e},t._getTopColPosition=function(t){var e=this._getTopColGroup(t),t=Math.min.apply(Math,e);return{col:e.indexOf(t),y:t}},t._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},t._getColGroupY=function(t,e){if(e<2)return this.colYs[t];e=this.colYs.slice(t,t+e);return Math.max.apply(Math,e)},t._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols,n=1<t&&n+t>this.cols?0:n,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},t._manageStamp=function(t){var e=s(t),n=this._getElementOffset(t),i=this._getOption("originLeft")?n.left:n.right,t=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),o=Math.floor(t/this.columnWidth);o-=t%this.columnWidth?0:1;for(var o=Math.min(this.cols-1,o),a=(this._getOption("originTop")?n.top:n.bottom)+e.outerHeight,r=i;r<=o;r++)this.colYs[r]=Math.max(a,this.colYs[r])},t._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},t._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},t.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.pell={})}(this,function(t){"use strict";function r(t,e,n){return t.addEventListener(e,n)}function s(t,e){return t.appendChild(e)}function l(t){return document.createElement(t)}function e(t){return document.queryCommandState(t)}function c(t){return document.execCommand(t,!1,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}function n(e){var t=e.actions?e.actions.map(function(t){return"string"==typeof t?p[t]:p[t.name]?d({},p[t.name],t):t}):Object.keys(p).map(function(t){return p[t]}),i=d({},h,e.classes),n=e[u]||"div",o=l("div");o.className=i.actionbar,s(e.element,o);var a=e.element.content=l("div");return a.contentEditable=!0,a.className=i.content,a.oninput=function(t){t=t.target.firstChild;t&&3===t.nodeType?c(f,"<"+n+">"):"<br>"===a.innerHTML&&(a.innerHTML=""),e.onChange(a.innerHTML)},a.onkeydown=function(t){"Enter"===t.key&&"blockquote"===(t=f,document.queryCommandValue(t))&&setTimeout(function(){return c(f,"<"+n+">")},0)},s(e.element,a),t.forEach(function(t){var e,n=l("button");n.className=i.button,n.innerHTML=t.icon,n.title=t.title,n.setAttribute("type","button"),n.onclick=function(){return t.result()&&a.focus()},t.state&&(r(a,"keyup",e=function(){return n.classList[t.state()?"add":"remove"](i.selected)}),r(a,"mouseup",e),r(n,"click",e)),s(o,n)}),e.styleWithCSS&&c("styleWithCSS"),c(u,n),e.element}var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u="defaultParagraphSeparator",f="formatBlock",p={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return e("bold")},result:function(){return c("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return e("italic")},result:function(){return c("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return e("underline")},result:function(){return c("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return e("strikeThrough")},result:function(){return c("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return c(f,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return c(f,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return c(f,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return c(f,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return c("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return c("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return c(f,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return c("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var t=window.prompt("Enter the link URL");t&&c("createLink",t)}},image:{icon:"&#128247;",title:"Image",result:function(){var t=window.prompt("Enter the image URL");t&&c("insertImage",t)}}},h={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},i={exec:c,init:n};t.exec=c,t.init=n,t.default=i,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).DOMPurify=e()}(this,function(){"use strict";function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e,n){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);i=new(Function.bind.apply(t,i));return n&&o(i,n.prototype),i}).apply(null,arguments)}function Ft(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r,s=Object.hasOwnProperty,l=Object.setPrototypeOf,c=Object.isFrozen,d=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,Wt=Object.freeze,t=Object.seal,f=Object.create,e="undefined"!=typeof Reflect&&Reflect,p=(p=e.apply)||function(t,e,n){return t.apply(e,n)},Wt=Wt||function(t){return t},t=t||function(t){return t},h=(h=e.construct)||function(t,e){return i(t,Ft(e))},Pt=m(Array.prototype.forEach),jt=m(Array.prototype.pop),Bt=m(Array.prototype.push),$t=m(String.prototype.toLowerCase),Jt=m(String.prototype.match),Ut=m(String.prototype.replace),Gt=m(String.prototype.indexOf),qt=m(String.prototype.trim),Yt=m(RegExp.prototype.test),Vt=(r=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h(r,e)});function m(o){return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return p(o,t,n)}}function Qt(t,e,n){n=n||$t,l&&l(t,null);for(var i=e.length;i--;){var o,a=e[i];"string"!=typeof a||(o=n(a))!==a&&(c(e)||(e[i]=o),a=o),t[a]=!0}return t}function Zt(t){var e,n=f(null);for(e in t)p(s,t,[e])&&(n[e]=t[e]);return n}function Xt(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return m(n.get);if("function"==typeof n.value)return m(n.value)}t=d(t)}return function(t){return console.warn("fallback value for",t),null}}var Kt=Wt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=Wt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ee=Wt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ne=Wt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ie=Wt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),oe=Wt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ae=Wt(["#text"]),re=Wt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),se=Wt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),le=Wt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ce=Wt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),de=t(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ue=t(/<%[\w\W]*|[\w\W]*%>/gm),fe=t(/^data-[\-\w.\u00B7-\uFFFF]/),pe=t(/^aria-[\-\w]+$/),he=t(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),me=t(/^(?:\w+script|data):/i),ge=t(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),be=t(/^html$/i),ye=function(){return"undefined"==typeof window?null:window},ve=function(t,e){if("object"!==Ht(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix",n="dompurify"+((n=e.currentScript&&e.currentScript.hasAttribute(i)?e.currentScript.getAttribute(i):n)?"#"+n:"");try{return t.createPolicy(n,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(t){function c(t){return e(t)}var l=0<arguments.length&&void 0!==t?t:ye();if(c.version="2.4.0",c.removed=[],!l||!l.document||9!==l.document.nodeType)return c.isSupported=!1,c;var d=l.document,o=l.document,u=l.DocumentFragment,n=l.HTMLTemplateElement,f=l.Node,r=l.Element,i=l.NodeFilter,t=l.NamedNodeMap,s=void 0===t?l.NamedNodeMap||l.MozNamedAttrMap:t,p=l.HTMLFormElement,a=l.DOMParser,h=l.trustedTypes,t=r.prototype,m=Xt(t,"cloneNode"),g=Xt(t,"nextSibling"),b=Xt(t,"childNodes"),y=Xt(t,"parentNode");"function"!=typeof n||(T=o.createElement("template")).content&&T.content.ownerDocument&&(o=T.content.ownerDocument);var v=ve(h,d),D=v?v.createHTML(""):"",x=o.implementation,k=o.createNodeIterator,w=o.createDocumentFragment,C=o.getElementsByTagName,N=d.importNode,T={};try{T=Zt(o).documentMode?o.documentMode:{}}catch(t){}var S={};c.isSupported="function"==typeof y&&x&&void 0!==x.createHTMLDocument&&9!==T;function A(t){return t instanceof RegExp||t instanceof Function}function I(t){vt&&vt===t||(t=Zt(t=t&&"object"===Ht(t)?t:{}),E=-1===yt.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,O="application/xhtml+xml"===E?function(t){return t}:$t,P="ALLOWED_TAGS"in t?Qt({},t.ALLOWED_TAGS,O):j,B="ALLOWED_ATTR"in t?Qt({},t.ALLOWED_ATTR,O):$,ut="ADD_URI_SAFE_ATTR"in t?Qt(Zt(ft),t.ADD_URI_SAFE_ATTR,O):ft,ct="ADD_DATA_URI_TAGS"in t?Qt(Zt(dt),t.ADD_DATA_URI_TAGS,O):dt,st="FORBID_CONTENTS"in t?Qt({},t.FORBID_CONTENTS,O):lt,U="FORBID_TAGS"in t?Qt({},t.FORBID_TAGS,O):{},G="FORBID_ATTR"in t?Qt({},t.FORBID_ATTR,O):{},M="USE_PROFILES"in t&&t.USE_PROFILES,q=!1!==t.ALLOW_ARIA_ATTR,Y=!1!==t.ALLOW_DATA_ATTR,V=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=t.SAFE_FOR_TEMPLATES||!1,Z=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,K=t.FORCE_BODY||!1,it=!1!==t.SANITIZE_DOM,ot=t.SANITIZE_NAMED_PROPS||!1,at=!1!==t.KEEP_CONTENT,rt=t.IN_PLACE||!1,W=t.ALLOWED_URI_REGEXP||W,gt=t.NAMESPACE||mt,t.CUSTOM_ELEMENT_HANDLING&&A(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&A(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(J.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(Y=!1),et&&(tt=!0),M&&(P=Qt({},Ft(ae)),B=[],!0===M.html&&(Qt(P,Kt),Qt(B,re)),!0===M.svg&&(Qt(P,te),Qt(B,se),Qt(B,ce)),!0===M.svgFilters&&(Qt(P,ee),Qt(B,se),Qt(B,ce)),!0===M.mathMl&&(Qt(P,ie),Qt(B,le),Qt(B,ce))),t.ADD_TAGS&&Qt(P=P===j?Zt(P):P,t.ADD_TAGS,O),t.ADD_ATTR&&Qt(B=B===$?Zt(B):B,t.ADD_ATTR,O),t.ADD_URI_SAFE_ATTR&&Qt(ut,t.ADD_URI_SAFE_ATTR,O),t.FORBID_CONTENTS&&Qt(st=st===lt?Zt(st):st,t.FORBID_CONTENTS,O),at&&(P["#text"]=!0),Z&&Qt(P,["html","head","body"]),P.table&&(Qt(P,["tbody"]),delete U.tbody),Wt&&Wt(t),vt=t)}var M,E,O,L=de,z=ue,_=fe,R=pe,H=me,F=ge,W=he,P=null,j=Qt({},[].concat(Ft(Kt),Ft(te),Ft(ee),Ft(ie),Ft(ae))),B=null,$=Qt({},[].concat(Ft(re),Ft(se),Ft(le),Ft(ce))),J=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,G=null,q=!0,Y=!0,V=!1,Q=!1,Z=!1,X=!1,K=!1,tt=!1,et=!1,nt=!1,it=!0,ot=!1,at=!0,rt=!1,st=null,lt=Qt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ct=null,dt=Qt({},["audio","video","img","source","image","track"]),ut=null,ft=Qt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",mt="http://www.w3.org/1999/xhtml",gt=mt,bt=!1,yt=["application/xhtml+xml","text/html"],vt=null,Dt=o.createElement("form"),xt=Qt({},["mi","mo","mn","ms","mtext"]),kt=Qt({},["foreignobject","desc","title","annotation-xml"]),wt=Qt({},["title","style","font","a","script"]),Ct=Qt({},te);Qt(Ct,ee),Qt(Ct,ne);var Nt=Qt({},ie);Qt(Nt,oe);function Tt(e){Bt(c.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=D}catch(t){e.remove()}}}function St(t,e){try{Bt(c.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){Bt(c.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!B[t])if(tt||et)try{Tt(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}}function At(t){var e,n;K?t="<remove></remove>"+t:n=(i=Jt(t,/^[\r\n\t ]+/))&&i[0],"application/xhtml+xml"===E&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=v?v.createHTML(t):t;if(gt===mt)try{e=(new a).parseFromString(i,E)}catch(t){}if(!e||!e.documentElement){e=x.createDocument(gt,"template",null);try{e.documentElement.innerHTML=bt?"":i}catch(t){}}return i=e.body||e.documentElement,t&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),gt===mt?C.call(e,Z?"html":"body")[0]:Z?e.documentElement:i}function It(t){return k.call(t.ownerDocument||t,t,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT,null,!1)}function Mt(t){return"object"===Ht(f)?t instanceof f:t&&"object"===Ht(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function Et(t,e,n){S[t]&&Pt(S[t],function(t){t.call(c,e,n,vt)})}function Ot(t){var e;if(Et("beforeSanitizeElements",t,null),(e=t)instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof s)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes))return Tt(t),1;if(Yt(/[\u0080-\uFFFF]/,t.nodeName))return Tt(t),1;var n=O(t.nodeName);if(Et("uponSanitizeElement",t,{tagName:n,allowedTags:P}),t.hasChildNodes()&&!Mt(t.firstElementChild)&&(!Mt(t.content)||!Mt(t.content.firstElementChild))&&Yt(/<[/\w]/g,t.innerHTML)&&Yt(/<[/\w]/g,t.textContent))return Tt(t),1;if("select"===n&&Yt(/<template/i,t.innerHTML))return Tt(t),1;if(P[n]&&!U[n])return t instanceof r&&!function(t){var e=y(t);e&&e.tagName||(e={namespaceURI:mt,tagName:"template"});var n=$t(t.tagName),i=$t(e.tagName);return t.namespaceURI===ht?e.namespaceURI===mt?"svg"===n:e.namespaceURI===pt?"svg"===n&&("annotation-xml"===i||xt[i]):Boolean(Ct[n]):t.namespaceURI===pt?e.namespaceURI===mt?"math"===n:e.namespaceURI===ht?"math"===n&&kt[i]:Boolean(Nt[n]):t.namespaceURI===mt&&(e.namespaceURI!==ht||kt[i])&&(e.namespaceURI!==pt||xt[i])&&!Nt[n]&&(wt[n]||!Ct[n])}(t)||("noscript"===n||"noembed"===n)&&Yt(/<\/no(script|embed)/i,t.innerHTML)?(Tt(t),1):(Q&&3===t.nodeType&&(e=t.textContent,e=Ut(e,L," "),e=Ut(e,z," "),t.textContent!==e&&(Bt(c.removed,{element:t.cloneNode()}),t.textContent=e)),Et("afterSanitizeElements",t,null),0);if(!U[n]&&Rt(n)){if(J.tagNameCheck instanceof RegExp&&Yt(J.tagNameCheck,n))return;if(J.tagNameCheck instanceof Function&&J.tagNameCheck(n))return}if(at&&!st[n]){var i=y(t)||t.parentNode,o=b(t)||t.childNodes;if(o&&i)for(var a=o.length-1;0<=a;--a)i.insertBefore(m(o[a],!0),g(t))}return Tt(t),1}function Lt(t,e,n){if(it&&("id"===e||"name"===e)&&(n in o||n in Dt))return!1;if((!Y||G[e]||!Yt(_,e))&&(!q||!Yt(R,e)))if(!B[e]||G[e]){if(!(Rt(t)&&(J.tagNameCheck instanceof RegExp&&Yt(J.tagNameCheck,t)||J.tagNameCheck instanceof Function&&J.tagNameCheck(t))&&(J.attributeNameCheck instanceof RegExp&&Yt(J.attributeNameCheck,e)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(e))||"is"===e&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&Yt(J.tagNameCheck,n)||J.tagNameCheck instanceof Function&&J.tagNameCheck(n))))return!1}else if(!ut[e]&&!Yt(W,Ut(n,F,""))&&("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==Gt(n,"data:")||!ct[t])&&(!V||Yt(H,Ut(n,F,"")))&&n)return!1;return!0}function zt(t){Et("beforeSanitizeAttributes",t,null);var e=t.attributes;if(e){for(var n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B},i=e.length;i--;){var o=(l=e[i]).name,a=l.namespaceURI,r="value"===o?l.value:qt(l.value),s=O(o);if(n.attrName=s,n.attrValue=r,n.keepAttr=!0,n.forceKeepAttr=void 0,Et("uponSanitizeAttribute",t,n),r=n.attrValue,!n.forceKeepAttr&&(St(o,t),n.keepAttr))if(Yt(/\/>/i,r))St(o,t);else{Q&&(r=Ut(r,L," "),r=Ut(r,z," "));var l=O(t.nodeName);if(Lt(l,s,r)){if(!ot||"id"!==s&&"name"!==s||(St(o,t),r="user-content-"+r),v&&"object"===Ht(h)&&"function"==typeof h.getAttributeType&&!a)switch(h.getAttributeType(l,s)){case"TrustedHTML":r=v.createHTML(r);break;case"TrustedScriptURL":r=v.createScriptURL(r)}try{a?t.setAttributeNS(a,o,r):t.setAttribute(o,r),jt(c.removed)}catch(t){}}}}Et("afterSanitizeAttributes",t,null)}}function _t(t){var e,n=It(t);for(Et("beforeSanitizeShadowDOM",t,null);e=n.nextNode();)Et("uponSanitizeShadowNode",e,null),Ot(e)||(e.content instanceof u&&_t(e.content),zt(e));Et("afterSanitizeShadowDOM",t,null)}var Rt=function(t){return 0<t.indexOf("-")};return c.sanitize=function(t){var e,n,i,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof(t=(bt=!t)?"\x3c!--\x3e":t)&&!Mt(t)){if("function"!=typeof t.toString)throw Vt("toString is not a function");if("string"!=typeof(t=t.toString()))throw Vt("dirty is not a string, aborting")}if(!c.isSupported){if("object"===Ht(l.toStaticHTML)||"function"==typeof l.toStaticHTML){if("string"==typeof t)return l.toStaticHTML(t);if(Mt(t))return l.toStaticHTML(t.outerHTML)}return t}if(X||I(a),c.removed=[],rt="string"!=typeof t&&rt){if(t.nodeName){var r=O(t.nodeName);if(!P[r]||U[r])throw Vt("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof f)1===(r=(e=At("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?e=r:e.appendChild(r);else{if(!tt&&!Q&&!Z&&-1===t.indexOf("<"))return v&&nt?v.createHTML(t):t;if(!(e=At(t)))return tt?null:nt?D:""}e&&K&&Tt(e.firstChild);for(var s=It(rt?t:e);n=s.nextNode();)3===n.nodeType&&n===i||Ot(n)||(n.content instanceof u&&_t(n.content),zt(n),i=n);if(i=null,rt)return t;if(tt){if(et)for(o=w.call(e.ownerDocument);e.firstChild;)o.appendChild(e.firstChild);else o=e;return o=B.shadowroot?N.call(d,o,!0):o}return t=Z?e.outerHTML:e.innerHTML,Z&&P["!doctype"]&&e.ownerDocument&&e.ownerDocument.doctype&&e.ownerDocument.doctype.name&&Yt(be,e.ownerDocument.doctype.name)&&(t="<!DOCTYPE "+e.ownerDocument.doctype.name+">\n"+t),Q&&(t=Ut(t,L," "),t=Ut(t,z," ")),v&&nt?v.createHTML(t):t},c.setConfig=function(t){I(t),X=!0},c.clearConfig=function(){vt=null,X=!1},c.isValidAttribute=function(t,e,n){return vt||I({}),t=O(t),e=O(e),Lt(t,e,n)},c.addHook=function(t,e){"function"==typeof e&&(S[t]=S[t]||[],Bt(S[t],e))},c.removeHook=function(t){if(S[t])return jt(S[t])},c.removeHooks=function(t){S[t]&&(S[t]=[])},c.removeAllHooks=function(){S={}},c}()});const apexBIDashBoard=function(Rt,Ht,o,i,j){"use strict";const Ft={featureDetails:{name:"Material-BI-Dashboard",scriptVersion:"22.10.17",utilVersion:"22.10.17",url:"https://github.com/RonnyWeiss",url2:"https://linktr.ee/ronny.weiss",license:"MIT License"},isDefinedAndNotNull:function(t){return null!=t&&""!==t},debounce:function(e,n=50){let i;return(...t)=>{clearTimeout(i),i=setTimeout(function(){e.apply(this,t)},n)}},groupObjectArray:function(t,i){return t&&Array.isArray(t)?t.reduce(function(t,e){var n=e[i];return n&&(t[n="â€‹"+n]=t[n]||[]).push(e),t},{}):[]},link:function(t,e="_parent"){null!=t&&""!==t&&window.open(t,e)},tooltip:{show:function(t,e,n){try{if(0===Ht("#dynToolTip").length){const i=Ht("<div></div>").attr("id","dynToolTip").css("color","#111").css("max-width","400px").css("position","absolute").css("top","0px").css("left","0px").css("z-index","2000").css("background-color","rgba(240, 240, 240, 1)").css("padding","10px").css("display","block").css("top","0").css("overflow-wrap","break-word").css("word-wrap","break-word").css("-ms-hyphens","auto").css("-moz-hyphens","auto").css("-webkit-hyphens","auto").css("hyphens","auto");e&&i.css("background-color",e),n&&i.css("max-width",n),Ht("body").append(i)}else Ht("#dynToolTip").css("visibility","visible");Ht("#dynToolTip").html(t),Ht("#dynToolTip").find("*").css("max-width","100%").css("overflow-wrap","break-word").css("word-wrap","break-word").css("-ms-hyphens","auto").css("-moz-hyphens","auto").css("-webkit-hyphens","auto").css("hyphens","auto").css("white-space","normal"),Ht("#dynToolTip").find("img").css("object-fit","contain").css("object-position","50% 0%")}catch(t){Rt.debug.error({module:"utils.js",msg:"Error while try to show tooltip",err:t})}},setPosition:function(t){Ht("#dynToolTip").position({my:"left+6 top+6",of:t,collision:"flipfit"})},hide:function(){Ht("#dynToolTip").css("visibility","hidden")},remove:function(){Ht("#dynToolTip").remove()}},escapeHTML:function(t){if(null===t)return null;if(void 0!==t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(t){}return Rt.util.escapeHTML(String(t))}},loader:{start:function(t,e){e&&Ht(t).css("min-height","100px"),Rt.util.showSpinner(Ht(t))},stop:function(t,e){e&&Ht(t).css("min-height",""),Ht(t+" > .u-Processing").remove(),Ht(t+" > .ct-loader").remove()}},splitString2Array:function(n){if(null!=n&&""!==n&&0<n.length){if(Rt&&Rt.server&&Rt.server.chunk)return Rt.server.chunk(n);{let t,e=[];if(8e3<n.length){for(e=[],t=0;t<n.length;)e.push(n.substr(t,8e3)),t+=8e3;return e}return e.push(n),e}}return[]},jsonSaveExtend:function(e,n){let i={},t={};if("string"==typeof n)try{t=JSON.parse(n)}catch(t){Rt.debug.error({module:"util.js",msg:"Error while try to parse targetConfig. Please check your Config JSON. Standard Config will be used.",err:t,targetConfig:n})}else t=Ht.extend(!0,{},n);try{i=Ht.extend(!0,{},e,t)}catch(t){i=Ht.extend(!0,{},e),Rt.debug.error({module:"util.js",msg:"Error while try to merge 2 JSONs into standard JSON if any attribute is missing. Please check your Config JSON. Standard Config will be used.",err:t,finalConfig:i})}return i},printDOMMessage:{show:function(t,e,n,i){const o=Ht("<div>");if(150<=Ht(t).height()){const r=Ht("<div></div>");var a=Ht("<span></span>").addClass("fa").addClass(n||"fa-info-circle-o").addClass("fa-2x").css("height","32px").css("width","32px").css("margin-bottom","16px").css("color",i||"#D0D0D0");r.append(a);a=Ht("<span></span>").text(e).css("display","block").css("color","#707070").css("text-overflow","ellipsis").css("overflow","hidden").css("white-space","nowrap").css("font-size","12px");o.css("margin","12px").css("text-align","center").css("padding","10px 0").addClass("dominfomessagediv").append(r).append(a)}else{i=Ht("<span></span>").addClass("fa").addClass(n||"fa-info-circle-o").css("font-size","22px").css("line-height","26px").css("margin-right","5px").css("color",i||"#D0D0D0"),e=Ht("<span></span>").text(e).css("color","#707070").css("text-overflow","ellipsis").css("overflow","hidden").css("white-space","nowrap").css("font-size","12px").css("line-height","20px");o.css("margin","10px").css("text-align","center").addClass("dominfomessagediv").append(i).append(e)}Ht(t).append(o)},hide:function(t){Ht(t).children(".dominfomessagediv").remove()}},noDataMessage:{show:function(t,e){Ft.printDOMMessage.show(t,e,"fa-search")},hide:function(t){Ft.printDOMMessage.hide(t)}},errorMessage:{show:function(t,e){Ft.printDOMMessage.show(t,e,"fa-exclamation-triangle","#FFCB3D")},hide:function(t){Ft.printDOMMessage.hide(t)}},cutString:function(e,t){try{return!(t<0)&&e.length>t?e.substring(0,t-3)+"...":e}catch(t){return e}},isBetween:function(t,e,n){n=n||0;return e-n<=t&&t<=e+n}};function V(t){const e=new Date(t);if(Rt.date&&"function"==typeof Rt.date.format)return Rt.date.format(e);t=Rt.locale&&Rt.locale.getLanguage?Rt.locale.getLanguage():void 0;return e.toLocaleDateString(t)}function Wt(t,e,n){return n?void 0!==t&&null!=t?1===t||"true"===t:e:Ft.isDefinedAndNotNull(t)?t:e}function tt(t,e,n,i,o){const a=t.append("defs"),r=a.append("filter").attr("id",e);r.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",o).attr("result","blur"),r.append("feOffset").attr("in","blur").attr("dx",i).attr("dy",n).attr("result","offsetBlur"),r.append("feFlood").attr("in","offsetBlur").attr("flood-color","#000").attr("flood-opacity","0.26").attr("result","offsetColor"),r.append("feComposite").attr("in","offsetColor").attr("in2","offsetBlur").attr("operator","in").attr("result","offsetBlur");const s=r.append("feMerge");s.append("feMergeNode").attr("in","offsetBlur"),s.append("feMergeNode").attr("in","SourceGraphic")}function Pt(t,e,n,i){return!1!==i?Ft.escapeHTML(t):!0!==n&&-1<Ht.inArray("sanitizer",e.features)&&!0!==n?o.sanitize(t,e.purifyOptions):t}return{initialize:function(u,f,b,l,c,d,p,h,m,g,y,zt,v,Z,D,x,k,w){Rt.debug.info({fct:`${Ft.featureDetails.name} - initialize`,arguments:{pRegionID:u,pRegionIDRefresh:f,pAjaxID:b,pNoDataMsg:l,pErrMsg:c,pDefaultConfigJSON:d,pLoadingMethod:p,pFeatures:h,pChartConfigJSON:m,pItems2Submit:g,pItems2SubmitImg:y,pRequireHTMLEscape:zt,pPurifyOptions:v,pMapURL:Z,pMapOptions:D,pTableConfigJSON:x,pClockOptions:k,pCalendarOptions:w},featureDetails:Ft.featureDetails});const o="#"+u,_t=Ht(o),C="#"+f,N=10,a=u+"-sizer";let n,X={},K={},T=0,S=0;const A={initMasonry:function(){n&&n.destroy();var t="."+u,e={itemSelector:"."+u+"-item",columnWidth:"."+a,horizontalOrder:!1,initLayout:!0,percentPosition:!0,transitionDuration:0,gutter:0};n=new i(t,e)},resizeMasonry:function(){n&&(n.layout(),Ht(document).scrollTop(T))}};if(u&&0<_t.length){_t.addClass(u),Ft.loader.start(C);var I={footprint:!0,isSortable:!1,colSpan:12,height:400,refresh:0,backColor:"transparent",color:"inherit",boxShadow:"0px 0px 6px 0.32px rgba(0, 0, 0, 0.26)",optionsLink:{backColor:"transparent",color:"inherit",icon:"fa-link"},optionsLinkTop:{backColor:"transparent",color:"inherit",icon:"fa-link"},title:{backColor:"transparent",color:"inherit",icon:null}},M={header:{background:"white",textAlign:"left",color:"inherit",border:"1px solid rgba(240, 240, 240, 1)"},cells:{background:"transparent",textAlign:"left",color:"inherit",border:"1px solid rgba(240, 240, 240, 1)"},evenRow:{background:"white",textAlign:"left",color:"inherit",borderBottom:"1px solid rgba(240, 240, 240, 1)"},oddRow:{background:"rgb(240,240,240)",textAlign:"left",color:"inherit",borderBottom:"1px solid rgba(240, 240, 240, 1)"}},E={tour:{enabled:!0,direction:"right",speed:2,start:-30,shadowEffect:!0},circles:{color:"rgb(97, 159, 209)",radius:5,opacity:.8,opacityHover:.65,shadows:!1},map:{stroke:"#303030",strokeWidth:"0.5px",color:"#eee",centerLongitude:0,centerLatitude:0,initialZoom:1,zoomEnabled:!0,shadows:!0}},O={axisLabelPosition:"inner3",background:null,chartTitle:null,gauge:{min:0,max:null,type:"single",width:null,arcMinWidth:null,fullCircle:!1,title:null},grid:{x:!0,y:!0},legend:{position:"right",show:!0},line:{step:"step"},padding:{bottom:null,left:null,right:null,top:null},rotateAxis:!1,showDataLabels:!1,showDataPoints:!0,showAbsoluteValues:!1,threshold:.05,tooltip:{grouped:!0,show:!0},transitionDuration:200,x:{axisHeight:null,label:"x Axis",timeFormat:"%Y-%m-%dT%H:%M:%S",type:"category",tick:{cutAfter:30,maxNumber:25,multiline:!1,rotation:60,autoRotate:!0,timeFormat:"%y-%m-%d %H:%M",fit:!0}},y:{label:"y Axis 1",log:!1,max:null,min:null,unit:null,tick:{maxNumber:null}},y2:{label:"y Axis 2",log:!1,max:null,min:null,unit:null,tick:{maxNumber:null}},zoom:{enabled:!0,type:"scroll",rescale:!1}},L={ALLOWED_ATTR:["accesskey","align","alt","always","autocomplete","autoplay","border","cellpadding","cellspacing","charset","class","colspan","dir","height","href","id","lang","name","rel","required","rowspan","src","style","summary","tabindex","target","title","type","value","width"],ALLOWED_TAGS:["a","address","b","blockquote","br","caption","code","dd","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","label","li","nl","ol","p","pre","s","span","strike","strong","sub","sup","table","tbody","td","th","thead","tr","u","ul"]},z={shadows:!1,label:{labelColor:"#303030",labelColor2:"#303030"},hour:{labelColor:"#303030",tickColor:"#999"},second:{label:!1,labelColor:"#707070",tickColor:"#ccc"},hands:{color:"#303030",coverFillColor:"white",coverStrokeColor:"#999",coverSize:2},circle:{color:"#ccc",width:5,fillColor:"#eeeeee"}},_={eventLimitPerDay:2,viewType:"dayGridMonth",displayTime:!0,hours12:!1,timeGridStartTime:"06:00:00",stickyHeaderDates:"auto"};let t;Ft.isDefinedAndNotNull(h)&&(t=h.split(":"));let e={},n={},i={},o={},a={},r={},s={};e=Ft.jsonSaveExtend(I,d),e.features=[],t&&0<t.length&&(e.features=t),-1<Ht.inArray("charts",e.features)?(n=Ft.jsonSaveExtend(O,m),e.d3JSchart=n):e.d3JSchart=null,-1<Ht.inArray("table",e.features)?(i=Ft.jsonSaveExtend(M,x),e.table=i):e.table=null,-1<Ht.inArray("sanitizer",e.features)?(o=Ft.jsonSaveExtend(L,v),e.purifyOptions=o):e.purifyOptions=null,-1<Ht.inArray("map",e.features)?(a=Ft.jsonSaveExtend(E,D),e.mapOptions=a):e.mapOptions=null,-1<Ht.inArray("clock",e.features)?(r=Ft.jsonSaveExtend(z,k),e.clockOptions=r):e.clockOptions=null,-1<Ht.inArray("calendar",e.features)?(s=Ft.jsonSaveExtend(_,w),e.calendarOptions=s):e.calendarOptions=null,e.noDataMessage=l,e.errorMessage=c,e.items2Submit=g,e.items2SubmitImg=y,Rt.debug.info({fct:`${Ft.featureDetails.name} - initialize`,finalConfigJSON:e,featureDetails:Ft.featureDetails}),Ht(document).on("scroll touchmove",function(){T=Ht(document).scrollTop()}),R(0,e);try{f?Ht(C).bind("apexrefresh",function(){Rt.debug.info({fct:`${Ft.featureDetails.name} - initialize`,msg:"Refresh event was fired",featureDetails:Ft.featureDetails}),R(0,e,!0)}):Rt.debug.error({fct:`${Ft.featureDetails.name} - initialize`,msg:"Can't bind refresh event because Refresh Region ID is missing",featureDetails:Ft.featureDetails})}catch(t){Rt.debug.error({fct:`${Ft.featureDetails.name} - initialize`,msg:"Can't bind refresh event on",err:t,featureDetails:Ft.featureDetails})}if(0<e.refresh){let t=setInterval(function(){0===Ht(_t).length?clearInterval(t):(Rt.debug.info({fct:`${Ft.featureDetails.name} - initialize`,msg:"Refresh by time was fired",featureDetails:Ft.featureDetails}),R(0,e,!0))},1e3*e.refresh)}}else Rt.debug.error({fct:`${Ft.featureDetails.name} - initialize`,msg:"Can't find pRegionID: "+u,featureDetails:Ft.featureDetails});function R(t,e,n){n&&(Ft.loader.start(C),S+=1);var i=e.items2Submit;Rt.server.plugin(b,{pageItems:i,x01:"items"},{success:function(t){!function(e,i){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawGridItems`,ajaxResponse:e,featureDetails:Ft.featureDetails}),_t.empty();const t=Ht("<div></div>").addClass("bida-container-sizer").addClass(a).attr("id",a);_t.append(t);const n=new ResizeObserver(Ft.debounce(function(){!document.hidden&&t.is(":visible")&&_t.trigger("resize")}));_t.on("resize",function(){A.resizeMasonry()}),n.observe(t[0]),K.outerItemIntervals&&0<K.outerItemIntervals.length&&Ht.each(K.outerItemIntervals,function(t,e){clearInterval(e)});K.outerItemIntervals=[],K.innerItemsIntervals&&Ht.each(K.innerItemsIntervals,function(t,e){clearInterval(e)});K.innerItemsIntervals={},K.d3Timer&&0<K.d3Timer.length&&Ht.each(K.d3Timer,function(t,e){e.stop()});if(K.d3Timer=[],e.items&&0<e.items.length){_t.removeClass("bida-container-nodat"),Ht.each(e.items,function(t,e){let n=i.colSpan;e.colSpan&&(n=e.colSpan),function(t,e,n,i,o){const a=Ft.jsonSaveExtend(null,i),r=u+"--"+t,s="#"+r,l=(i.height||o.height)-N,c=Ht("<div></div>");c.attr("id",r),c.attr("item-id",i.itemID),c.addClass("bida-container-item"),c.addClass(u+"-item"),c.addClass("bida-container-item--width"+e),c.css("min-height",l),c.css("background",i.backColor||o.backColor),c.css("color",i.color||o.color),c.css("box-shadow",i.boxShadow||o.boxShadow),Ft.isDefinedAndNotNull(i.itemID)&&(c.attr("item-id",i.itemID),c.addClass(f+"--"+i.itemID));n.append(c),H(t,l,s,a,o);n=Wt(i.isAsync,!1,!0);if("A"===p&&n&&(Ht(c).on("itemrefresh",function(){i.itemData=null,H(t,l,s,i,o,!0)}),0<i.refresh)){const d=setInterval(function(){0===Ht(s).length?clearInterval(d):(i.itemData=null,H(t,l,s,i,o,!0))},1e3*i.refresh);K.outerItemIntervals.push(d)}}(t,n,_t,e,i)}),i.footprint&&function(t){const e=Ht("<div></div>");e.css("position","absolute"),e.css("margin","-5px"),e.css("bottom","0px"),e.css("right","10px"),e.css("font-size","9px"),e.css("color","rgb(0,0,0,0.3)"),e.css("line-height","9px");const n=Ht("<i></i>");n.addClass("fa"),n.addClass("fa-heart"),n.css("font-size","9px"),n.css("color","inherit"),n.css("opacity","0.3"),n.css("line-height","10px");const i=Ht("<a></a>");i.attr("href","https://linktr.ee/ronny.weiss"),i.attr("target","_blank"),i.css("color","inherit"),i.append(n);const o=Ht("<i></i>");o.addClass("fa"),o.addClass("fa-apex"),o.css("font-size","9px"),o.css("color","inherit"),o.css("opacity","0.3"),o.css("line-height","10px");const a=Ht("<a></a>");a.attr("href","https://apex.oracle.com"),a.attr("target","_blank"),a.css("color","inherit"),a.append(o),e.append("Build with "),e.append(i),e.append(" for "),e.append(a),Ht(t).append(e)}(_t),A.initMasonry();let n;const o={delay:50,zIndex:10,items:".bida-container-item",grid:[10,10],tolerance:"pointer",start:function(t,e){n||(n=Ht(e.item).clone(),Ht("body").append(n)),Ht(e.item).hide(),n.fadeIn(),n.css("opacity","0.5"),n.css("filter","grayscale(100%)")},sort:function(t,e){n.css("left",e.offset.left),n.css("top",e.offset.top)},change:function(t,e){_t.find(".ui-sortable-placeholder").each(function(t,e){Ht(e).css("visibility","visible")}),Ht(e.item).css("left",e.position.left),Ht(e.item).css("top",e.position.top),A.initMasonry()},stop:function(t,e){n.remove(),n="",Ht(e.item).show(),A.initMasonry()},update:function(){const n=[];_t.find(".bida-container-item").each(function(t,e){e=Ht(e).attr("item-id");n.push(e)}),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawGridItems`,sortInfo:n,featureDetails:Ft.featureDetails}),_t.trigger("sortorder",n.join(":"))}};let t;i.isSortable&&(t=_t.sortable(o)),Ht(C).on("sortableOn",function(){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawGridItems`,msg:"sortable on by trigger",featureDetails:Ft.featureDetails}),t||_t.sortable(o),_t.sortable("enable")}),Ht(C).on("sortableOff",function(){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawGridItems`,msg:"sortable off by trigger",featureDetails:Ft.featureDetails}),_t.sortable("disable")})}else _t.addClass("bida-container-nodat"),Ft.noDataMessage.show(_t,i.noDataMessage);Ft.loader.stop(C),_t.trigger("rendered"),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawGridItems`,msg:"Material BI Dashboard rendering finished",featureDetails:Ft.featureDetails})}(t,e),n&&_t.trigger("refreshed")},error:function(t){t=t,Ht(o).empty(),Ht(o).addClass("bida-container-nodat"),Ft.errorMessage.show(o,e.errorMessage),Ft.loader.stop(C),t.responseText&&Rt.debug.error({fct:`${Ft.featureDetails.name} - getData`,msg:t.responseText,featureDetails:Ft.featureDetails}),n&&_t.trigger("refreshed")},dataType:"json"})}function H(i,t,o,a,r,e){const s=Ht(o);let l=t;function c(){Ft.loader.stop(o),setTimeout(function(){Ft.loader.stop(o)},100)}t=Wt(a.isAsync,!1,!0);if(e||"A"===p&&t)if(Ft.isDefinedAndNotNull(a.itemID)){t=r.items2Submit;setTimeout(function(){Ft.loader.start(o)},100),Rt.server.plugin(b,{pageItems:t,x01:"itemData",x02:a.itemID,x04:S},{success:function(t,e,n){Rt.debug.info({fct:`${Ft.featureDetails.name} - prepareItemContent`,asyncAjaxReference:S,pData:t,featureDetails:Ft.featureDetails}),parseInt(n.getResponseHeader("ajax-reference"),10)===S?function(t){t=Ft.jsonSaveExtend(a,t);s.empty(),Ft.isDefinedAndNotNull(t.itemID)&&s.attr("item-id",t.itemID),l=(t.height||r.height)-N,s.css("min-height",l),W(i,o,l,t,r),c(),A.resizeMasonry()}(t):Rt.debug.info({fct:`${Ft.featureDetails.name} - prepareItemContent`,msg:"Expired Async AJAX Call returned.",pData:t,featureDetails:Ft.featureDetails})},error:function(t){t=t,s.empty(),t.status&&404===t.status?Ft.noDataMessage.show(o,r.noDataMessage):(Ft.errorMessage.show(o,r.errorMessage),Rt.debug.error({msg:"Error occured in PL/SQL Block for async Loading of Data",data:t,featureDetails:Ft.featureDetails})),c(),A.resizeMasonry()},dataType:"json"})}else s.empty(),Ft.errorMessage.show(o,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - prepareItemContent`,msg:"itemID missing in JSON for async load!",featureDetails:Ft.featureDetails});else W(i,o,l,a,r),A.resizeMasonry()}function F(t,e,n,i,o){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawSubText`,pPosition:t,pParent:e,pText:n,pDefaultConfig:i,pIsSafeItem:o,featureDetails:Ft.featureDetails});var a="bida-item-subtext-"+t,r=Ht(e).find("."+a);let s=Ht("<div></div>");r[0]&&(s=r),s.addClass(a);const l=Ht("<span></span>");l.addClass("bida-item-subtext-text"),l.addClass("bida-item-subtext-text-"+t),l.addClass("truncate-text");o=Pt(n,i,o,zt);l.html(o),s.html(l),s.attr("title",l.text()),Ht(e).append(s)}function W(n,i,o,a,r){const t=Ht(i),e="fa-";let s;if(s=a.itemConfig||{},Ft.isDefinedAndNotNull(a.optionsLink)){const d=Ht("<a></a>");d.addClass("bida-item-options-link"),d.attr("href",a.optionsLink),d.css("background-color",a.optionsLinkBackColor||r.optionsLink.backColor);const u=a.optionsLinkIcon||r.optionsLink.icon,f=Ht("<i></i>");Ft.isDefinedAndNotNull(u)&&u.substr(0,e.length)===e?(f.addClass("fa"),f.addClass(u),f.css("color",a.optionsLinkColor||r.optionsLink.color)):f.css("background-image","url("+u+")"),f.addClass("bida-item-options-link-icon"),d.append(f),t.append(d)}if(Ft.isDefinedAndNotNull(a.optionsLinkTop)){const p=Ht("<a></a>");p.addClass("bida-item-options-link-top"),p.attr("href",a.optionsLinkTop),p.css("background-color",a.optionsLinkTopBackColor||r.optionsLinkTop.backColor);const h=a.optionsLinkTopIcon||r.optionsLinkTop.icon,m=Ht("<i></i>");Ft.isDefinedAndNotNull(h)&&h.substr(0,e.length)===e?(m.addClass("fa"),m.addClass(h),m.css("color",a.optionsLinkTopColor||r.optionsLinkTop.color)):m.css("background-image","url("+h+")"),m.addClass("bida-item-options-link-icon"),p.append(m),t.append(p)}var l=Wt(a.isMarked,!1,!0);if(t.removeClass("bida-container-item-marked"),l&&t.addClass("bida-container-item-marked"),Ft.isDefinedAndNotNull(a.itemType)){let t=!1;Ft.isDefinedAndNotNull(a.oversize)&&(t=Wt(a.oversize,!1,!0));let e=!1;Ft.isDefinedAndNotNull(a.noSanitize)&&(e=Wt(a.noSanitize,!1,!0));var c;if(Ft.isDefinedAndNotNull(a.title)&&function(t,e,n,i,o,a,r,s){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawItemTitle`,pText:e,pBackColor:n,pColor:i,pParent:t,pIcon:o,pIconColor:a,pDefaultConfig:r,pIsSafeItem:s,featureDetails:Ft.featureDetails});var l="bida-item-title",c=Ht(t).find("."+l);let d=Ht("<div></div>");c[0]&&(d=c),d.addClass(l),d.css("background",n||r.title.backColor),d.css("color",i||r.title.color);const u=Ht("<span></span>");u.addClass("bida-item-title-text"),u.addClass("truncate-text"),s=Pt(e,r,s,zt),u.html(s),u.attr("title",u.text()),d.html(u);const f=o||r.title.icon,p=a||r.title.iconColor;if(Ft.isDefinedAndNotNull(f)){const h=Ht("<i></i>");"fa-"===f.substr(0,"fa-".length)?(h.addClass("fa"),h.addClass(f),h.css("color",p)):h.css("background-image","url("+f+")"),h.addClass("bida-item-title-icon"),u.prepend(h)}Ht(t).prepend(d)}(i,a.title,a.titleBackColor,a.titleColor,a.titleIcon,a.titleIconColor,r,e),Ft.isDefinedAndNotNull(a.subText1)&&F(1,i,a.subText1,r,e),Ft.isDefinedAndNotNull(a.subText2)&&F(2,i,a.subText2,r,e),c=function(t,e){let n=e;return Ht(t).children(".bida-item-title").each(function(){n=Math.floor(n-Ht(this).height())-1}),Ht(t).children(".bida-item-subtext-1").each(function(){n=Math.floor(n-Ht(this).height())-1}),Ht(t).children(".bida-item-subtext-2").each(function(){n=Math.floor(n-Ht(this).height())-1}),n}(i,o),Ft.isDefinedAndNotNull(a.itemData)||"calendar"===a.itemType||"note"===a.itemType||"clock"===a.itemType)switch(Rt.debug.info({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Render Item "+a.itemType+"("+a.title+")",featureDetails:Ft.featureDetails}),a.itemType){case"chart":-1<Ht.inArray("charts",r.features)?a.itemData?function(b,y,v,t,D,x){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawChart`,pItemSel:b,pItemHeight:y,pConfigData:v,pValuesData:t,pDefaultConfig:D,pIsSafeItem:x,featureDetails:Ft.featureDetails});const r=d3,k=["pie","donut","gauge"],w=Ft.groupObjectArray(t,"seriesID");let C=!1,N=!1,T=!1;function e(t,a){try{return t.sort(function(t,e){const n=r.timeParse(a),i=n(t.x),o=n(e.x);return new Date(i).getTime()-new Date(o).getTime()})}catch(t){Rt.debug.error({fct:`${Ft.featureDetails.name} - drawChart`,msg:"Error while try sort JSON Array by Time Value",err:t,featureDetails:Ft.featureDetails})}}try{var S=Wt(v.chartTitle,D.d3JSchart.chartTitle||"").toString(),n=Wt(v.background,D.d3JSchart.background);let i=null,r=!1;Ft.isDefinedAndNotNull(n)&&(i={color:n});var A=Wt(v.lineStep,D.d3JSchart.line.step),I=Wt(v.gaugeMin,D.d3JSchart.gauge.min),M=Wt(v.gaugeMax,D.d3JSchart.gauge.max),E=Wt(v.gaugeType,D.d3JSchart.gauge.type),O=Wt(v.gaugeWidth,D.d3JSchart.gauge.width),L=Wt(v.gaugeArcMinWidth,D.d3JSchart.gauge.arcMinWidth),z=Wt(v.gaugeFullCircle,D.d3JSchart.gauge.fullCircle,!0),_=Wt(v.gaugeTitle,D.d3JSchart.gauge.title||"").toString(),R=Wt(v.gridX,D.d3JSchart.grid.x,!0),H=Wt(v.gridY,D.d3JSchart.grid.y,!0),F=Wt(v.xAxisHeight,D.d3JSchart.x.axisHeight),W=Wt(v.legendShow,D.d3JSchart.legend.show,!0),P=Wt(v.legendPosition,D.d3JSchart.legend.position);const rt=Ft.jsonSaveExtend(null,D.d3JSchart.padding);Ft.isDefinedAndNotNull(v.paddingBottom)&&(rt.bottom=v.paddingBottom),Ft.isDefinedAndNotNull(v.paddingLeft)&&(rt.left=v.paddingLeft),Ft.isDefinedAndNotNull(v.paddingRight)&&(rt.right=v.paddingRight),Ft.isDefinedAndNotNull(v.paddingTop)&&(rt.top=v.paddingTop);var j,B=Wt(v.rotateAxis,D.d3JSchart.rotateAxis,!0),$=Wt(v.axisLabelPosition,D.d3JSchart.axisLabelPosition);let o=null,a=null;switch($){case"inner1":o="inner-left",a="inner-bottom";break;case"inner2":o="inner-center",a="inner-middle";break;case"inner3":o="inner-right",a="inner-top";break;case"outer1":o="outer-left",a="outer-bottom";break;case"outer2":o="outer-center",a="outer-middle";break;case"outer3":o="outer-right",a="outer-top"}B&&(j=o,o=a,a=j);var J=Wt(v.tooltipShow,D.d3JSchart.tooltip.show,!0),U=Wt(v.tooltipGrouped,D.d3JSchart.tooltip.grouped,!0),G=Wt(v.transitionDuration||D.d3JSchart.transitionDuration),q=Wt(v.xShow,D.d3JSchart.x.show,!0),Y=Wt(v.xLabel,D.d3JSchart.x.label||"").toString();let s=Wt(v.xType,D.d3JSchart.x.type),l=null,c=null;const st=Wt(v.xTickCutAfter,D.d3JSchart.x.tick.cutAfter),lt=Wt(v.xTickMaxNumber,D.d3JSchart.x.tick.maxNumber),ct=Wt(v.xTickRotation,D.d3JSchart.x.tick.rotation),dt=Wt(v.xTickMultiline,D.d3JSchart.x.tick.multiline,!0),ut=Wt(v.xTickFit,D.d3JSchart.x.tick.fit,!0),ft=Wt(v.xTickAutoRotate,D.d3JSchart.x.tick.autoRotate,!0);let d=null;"category"!==s&&"timeseries"!==s||(c="x"),"timeseries"===s&&(l=Wt(v.xTimeFormat,D.d3JSchart.x.timeFormat),d=Wt(v.xTickTimeFormat,D.d3JSchart.x.tick.timeFormat),e(t,l)),"category"===s&&(d=function(t,e){return Ft.cutString(e,st)});var V=Wt(v.yLabel,D.d3JSchart.y.label||"").toString(),Q=Wt(v.yLog,D.d3JSchart.y.log,!0);let u=null;Q&&(u="log");const pt=v.yMin||D.d3JSchart.y.min,ht=v.yMax||D.d3JSchart.y.max,mt=v.yTickMaxNumber||D.d3JSchart.y.tick.maxNumber,gt=v.yUnit||D.d3JSchart.y.unit;var Z=Wt(v.y2Label,D.d3JSchart.y2.label||"").toString(),X=Wt(v.y2Log,D.d3JSchart.y2.log,!0);let f=null,p=!1;X&&(f="log");const bt=Wt(v.y2Min,D.d3JSchart.y2.min),yt=Wt(v.y2Max,D.d3JSchart.y2.max),vt=Wt(v.y2TickMaxNumber,D.d3JSchart.y2.tick.maxNumber),Dt=Wt(v.y2Unit,D.d3JSchart.y2.unit);var K=Wt(v.zoomType,D.d3JSchart.zoom.type);let h=!1,m=Wt(v.zoomEnabled,D.d3JSchart.zoom.enabled,!0);var tt=Wt(v.threshold,D.d3JSchart.threshold);!m||"scroll"===K?h=!1:"subchart"===K?(h=!0,m=!1):"drag"===K&&(m=!0,h=!1);var et,nt=Wt(v.zoomRescale,D.d3JSchart.zoom.rescale,!0);const xt=[],kt=[],wt=[],Ct={},Nt={},Tt={},St={},At={},It=Ft.groupObjectArray(t,"x");let g=0;if(w){"category"!==s&&"timeseries"!==s||(kt.push("x"),et=Object.keys(It),Ht.each(et,function(t,e){kt.push(Wt(e.replace("â€‹",""),null))})),xt.push(kt),Ht.each(w,function(t,e){let n;if(g+=1,e[0]&&e[0].seriesID){n=e[0];const o=escape(n.seriesID);var i;Ct[o]=n.color,Nt[o]=n.type,0<=k.indexOf(n.type)&&(m=!1),"gauge"===n.type&&(C=!0),"pie"===n.type&&(N=!0),"donut"===n.type&&(T=!0),Ft.isDefinedAndNotNull(n.tooltip)&&(r=!0),Tt[o]=n.yAxis||"y",Ft.isDefinedAndNotNull(n.groupID)&&(i=escape(n.groupID.toString()),At[i]||(At[i]=[]),At[i].push(o)),"y2"===n.yAxis&&(p=!0),St[o]=Wt(n.label,o);const a=[];a.push(o),"category"===s||"timeseries"===s?Ht.each(It,function(t,e){let n=null,i=null;Ht.each(e,function(t,e){escape(e.seriesID)===o&&(n=e.y,e.z&&(i=e.z))}),null!==i?a.push({y:n,z:i}):a.push(n)}):Ht.each(e,function(t,e){var n=Wt(e.y,null);e.z?(e=e.z,a.push({y:n,z:e})):a.push(n)}),xt.push(a)}else Ft.errorMessage.show(b,D.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawChart`,msg:"No seriesID found in seriesID Cursor",featureDetails:Ft.featureDetails})}),Ht.each(At,function(t,e){wt.push(e)});let t=Wt(v.showDataLabels,D.d3JSchart.showDataLabels,!0);N||T?t={colors:"white"}:C&&(t={colors:"single"===E&&1<g?"white":"inherit"});var it=Wt(v.showDataPoints,D.d3JSchart.showDataPoints,!0),ot=Wt(v.showAbsoluteValues,D.d3JSchart.showAbsoluteValues);let e;ot&&(e=function(t){return t+gt});let n;r&&(n=function(t){const r=Ht("<div></div>");return r.addClass("bb-tooltip"),r.addClass("bida-chart-tooltip-custome"),Ht.each(t,function(t,e){var n="â€‹"+unescape(e.id);let i=e.index;if(w[n]&&(1===w[n].length&&(i=0),w[n][i]&&Ft.isDefinedAndNotNull(w[n][i].tooltip))){const o=Ht("<div>"),a=Pt(w[n][i].tooltip,D,x,zt);o.append(a),r.append(o)}}),r[0].outerHTML});try{const Mt=b+"bbc",Et=Mt.replace("#",""),Ot=Ht("<div></div>");Ot.attr("id",Et),Ht(b).append(Ot);var at={bindto:Mt,background:i,title:{text:S},size:{height:y},data:{x:c,xFormat:l,columns:xt,types:Nt,groups:wt,colors:Ct,labels:t,axes:Tt,names:St,onclick:function(t){!function(t){var e="â€‹"+unescape(t.id);let n=t.index;w[e]&&(1===w[e].length&&(n=0),w[e][n]&&w[e][n].link&&Ft.link(w[e][n].link,w[e][n].linkTarget))}(t)}},pie:{label:{format:e,threshold:tt}},donut:{label:{format:e,threshold:tt}},line:{step:{type:A}},gauge:{label:{format:e,threshold:tt},fullCircle:z,min:I,max:M,type:E,width:O,title:_,arc:{minWidth:L}},radar:{direction:{clockwise:!0}},subchart:{show:h},zoom:{type:K,enabled:m,rescale:nt},transition:{duration:G},legend:{show:W,position:P},tooltip:{show:J,grouped:U,contents:n},grid:{x:{show:R},y:{show:H}},point:{show:it},axis:{rotated:B,x:{show:q,label:{text:Y,position:o},type:s,tick:{culling:{max:lt},autorotate:ft,rotate:ct,multiline:dt,format:d,fit:ut},height:F},y:{label:{text:V,position:a},type:u,max:ht,min:pt,tick:{culling:{max:mt},format:function(t){return t+gt}}},y2:{show:p,label:{text:Z,position:a},type:f,max:yt,min:bt,tick:{culling:{max:vt},format:function(t){return t+Dt}}}},padding:rt};Rt.debug.info({fct:`${Ft.featureDetails.name} - drawChart`,finalChartData:at,featureDetails:Ft.featureDetails});const Lt=bb.generate(at);m&&Ht(Mt).contextmenu(function(t){t.preventDefault(),Lt.unzoom()}),_t.on("resize",function(){Lt.resize({height:y})})}catch(t){Ht(b).empty(),Ft.errorMessage.show(b,D.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawChart`,msg:"Error while try to render chart",err:t,featureDetails:Ft.featureDetails})}}else Ft.noDataMessage.show(b,D.noDataMessage)}catch(t){Ht(b).empty(),Ft.errorMessage.show(b,D.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawChart`,msg:"Error while prepare data for chart",err:t,featureDetails:Ft.featureDetails})}}(i,c,s,a.itemData,r,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"itemData is missing in JSON",featureDetails:Ft.featureDetails})):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Charts is not activated.",featureDetails:Ft.featureDetails}));break;case"calendarheatmap":-1<Ht.inArray("calendarheatmap",r.features)?a.itemData?function(t,a,e,n,l,c){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawCalendarHeatmap`,pItemSel:t,pItemHeight:a,pConfigData:e,pValuesData:n,featureDetails:Ft.featureDetails});let i="sunday",d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];"function"==typeof Rt.locale.getSettings&&Rt.locale.getSettings().calendar&&Rt.locale.getSettings().calendar.startOfWeek&&(o=Rt.locale.getAbbrevMonthNames(),d=Rt.locale.getAbbrevDayNames(),i=Rt.locale.getSettings().calendar.startOfWeek);const u=d3,f=new Map,p=Ht(t),r=p.attr("id")+"-cheatmap",h="#"+r,m=new Date,g="#efefef",s=m.getMonth(),b=new Date(m.getFullYear()-1,s+1,1),y=new Date(m.getFullYear(),s+1,1),v=o.slice(s+1),D=o.slice(0,v.indexOf(s)-1),x=v.concat(D);let k=!1,w=u.timeSunday;"monday"===i&&(k=!0,w=u.timeMonday);n.forEach(t=>{t.date&&f.set(t.date.substr(0,10),t)});const C=Ht("<div>");C.attr("id",r),C.css("height",a),p.append(C);const N=function(){C.empty();const t=p.width(),r=t/53-40/53,s=a/7-20/7;let e=50,n=4;t<=640?(e=40,n=2):t<=450&&(n=1);const i=u.select(h).selectAll("svg").data(u.range(m.getFullYear(),m.getFullYear()+1)).enter().append("svg").attr("viewBox",`0 0 ${t} ${a}`).attr("width","100%").attr("height","100%").attr("class","bida-calendar-heatmap-calendar").append("g").attr("transform",`translate(${(t-53*r)/2+10}, 15)`);i.append("g").attr("fill",g).attr("stroke","transparent").attr("stroke-width","0.1px").selectAll("rect").data(u.timeDays(b,y)).enter().append("rect").attr("rx",3).attr("ry",3).attr("class","bida-calendar-heatmap-day").attr("width",r-n).attr("height",s-n).attr("transform",`translate(${n/3}, ${n/3})`).attr("x",function(t){return w.count(b,t)*r+n/4}).attr("y",function(t){return k?(t.getDay()+6)%7*s+n/4:t.getDay()*s}).datum(u.timeFormat("%Y-%m-%d")).attr("fill",function(t){t=f.get(t);if(t)return t.color||g});var o=C.find(".bida-calendar-heatmap-day");Ht.each(o,function(){const t=Ht(this)[0];t.hasAttribute("fill")&&u.select(t).on("mouseover",function(t,e){e=f.get(e);if(e){const n=Ht("<div>"),i=Ht("<div>"),o=Ht("<div>");n.addClass("bida-calendar-heatmap-tt");const a=Ht("<b>");a.text(`${V(e.date)}: `);const r=Ht("<span>");r.text(e.value),i.append(a),i.append(r),n.append(i),Ft.isDefinedAndNotNull(e.tooltip)&&(e=Pt(e.tooltip,l,c,zt),o.html(e),n.append(o)),Ft.tooltip.show(n[0].outerHTML)}}).on("mouseout",function(){Ft.tooltip.hide()}).on("mousemove",function(t){Ft.tooltip.setPosition(t)}).on("click",function(t,e){e=f.get(e);e&&Ft.isDefinedAndNotNull(e.link)&&Ft.link(e.link,e.linkTarget)})}),i.append("g").attr("fill","none").attr("stroke","#aaa").attr("stroke-width","1px").selectAll("path").data(u.timeMonths(b,y)).enter().append("path").attr("class","bida-calendar-heatmap-month").attr("d",function(t){const e=new Date(t.getFullYear(),t.getMonth()+1,0),n=k?(t.getDay()+6)%7:t.getDay(),i=w.count(b,t),o=k?(e.getDay()+6)%7:e.getDay(),a=w.count(b,e);return`M${(i+1)*r}, ${n*s}H${i*r}V${7*s}H${a*r}V${(o+1)*s}H${(a+1)*r}V0H${(i+1)*r}Z`});o=u.scaleBand().domain(x).range([0,t-e]),o=u.axisTop(o).tickSize(0);i.append("g").call(o).selectAll("path").attr("stroke","transparent");o=u.scaleBand().domain(d).range([0,a-20]),o=u.axisLeft(o).tickSize(0);i.append("g").call(o).selectAll("path").attr("stroke","transparent")};N(),_t.on("resize",function(){N()})}(i,c,s,a.itemData,r,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"itemData is missing in JSON",featureDetails:Ft.featureDetails})):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Calendar Heatmap is not activated.",featureDetails:Ft.featureDetails}));break;case"html":!function(o,t,a,r,s,e,n){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawHTML`,pItemSel:o,pItemHeight:t,pItemData:a,pDefaultConfig:s,pOversize:e,pIsSafeItem:n,featureDetails:Ft.featureDetails});const l=Ht("<div></div>");function c(t){var e=Pt(t,s,n,zt);Rt.debug.info({fct:`${Ft.featureDetails.name} - drawHTML`,submodule:"renderHTML",pContent:t,contentAfterEscapeOrSanitize:e,featureDetails:Ft.featureDetails}),l.html(e),-1<Ht.inArray("inlineimagesdownload",s.features)&&(e=l.find('img[alt*="aih#"]'),Ht.each(e,function(t,e){let n=e.title;var i;n=n||e.alt.split("aih##")[1],n&&(Rt.debug.info({fct:`${Ft.featureDetails.name} - drawHTML`,pItemID:r,pk:n,featureDetails:Ft.featureDetails}),i=s.items2SubmitImg,i=Rt.server.pluginUrl(b,{x01:"imageDownload",x02:r,x03:n,pageItems:i}),e.src=i,Ht(e).addClass("bida-item-urte-img"))})),l.find("*").css("max-width","100%").css("overflow-wrap","break-word").css("word-wrap","break-word").css("-ms-hyphens","auto").css("-moz-hyphens","auto").css("-webkit-hyphens","auto").css("hyphens","auto").css("white-space","normal"),l.find("img").css("object-fit","contain").css("object-position","50% 0%")}if(l.addClass("bida-item-html"),a&&"object"==typeof a&&1<a.length){let n=0,i;const d=function(){if(n>a.length-1?n=0:n<0&&(n=a.length-1),a[n]){c(a[n].html);const t=a[n].duration;if(t&&0<t){const e=function(){i=setTimeout(function(){n+=1,Ht(l).fadeOut("slow",function(){d(),Ht(l).fadeIn("slow")})},1e3*t)};Ht(o).hover(function(){clearTimeout(i)}),Ht(o).mouseleave(function(){e()}),e()}}},u=Ht("<div></div>");u.addClass("bida-item-html-slide-lc"),u.on("click",function(){--n,clearTimeout(i),Ht(l).fadeOut("fast",function(){d(),Ht(l).fadeIn("fast")})});const f=Ht("<span></span>");f.addClass("fa fa-chevron-left fa-lg"),f.addClass("bida-item-html-slide-lc-s"),u.append(f),Ht(o).append(u);const p=Ht("<div></div>");p.addClass("bida-item-html-slide-rc"),p.on("click",function(){n+=1,clearTimeout(i),Ht(l).fadeOut("fast",function(){d(),Ht(l).fadeIn("fast")})});const h=Ht("<span></span>");h.addClass("fa fa-chevron-right fa-lg"),h.addClass("bida-item-html-slide-rc-s"),p.append(h),Ht(o).append(p),d()}else a&&"object"==typeof a&&1===a.length?Ft.isDefinedAndNotNull(a[0].html)&&""!==a[0].html?c(a[0].html):Ft.noDataMessage.show(l,s.noDataMessage):Ft.isDefinedAndNotNull(a)&&""!==a?c(a):Ft.noDataMessage.show(l,s.noDataMessage);Ht(o).append(l),!0!==e&&(l.css("height",t),P(l))}(i,c,a.itemData,a.itemID,r,t,e);break;case"card":!function(t,e,n,i,o,a,r){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawCard`,pIndex:t,pItemHeight:e,pItemSel:n,pItemData:i,pDefaultConfig:o,pOversize:a,pIsSafeItem:r,featureDetails:Ft.featureDetails});const s=Ht("<div></div>");s.addClass("bida-item-card");const l=Ht("<div></div>");if(l.addClass("card-content"),Ft.isDefinedAndNotNull(i.icon)||Ft.isDefinedAndNotNull(i.iconText)){const p=Ht("<div></div>");p.addClass("card-content-icon-div");const h=Ht("<span></span>");if(Ft.isDefinedAndNotNull(i.icon)&&"fa-"===i.icon.substr(0,"fa-".length)){h.addClass("fa "+i.icon);var c="hsl("+23*t%350+", 79%, 45%)";h.css("background",i.iconBackColor||c)}else{if(Ft.isDefinedAndNotNull(i.iconText)){c=Pt(i.iconText,o,r,zt);const m=Ht("<span></span>");m.addClass("card-content-icon-text"),m.html(c),h.append(m)}Ft.isDefinedAndNotNull(i.icon)&&h.css("background-image","url("+i.icon+")"),h.css("background-color",i.iconBackColor)}h.addClass("card-content-icon"),h.css("color",i.iconColor||"white"),p.append(h),l.append(p)}const d=Ht("<div></div>");d.addClass("card-title-div"),Ft.isDefinedAndNotNull(i.icon)&&d.css("width","calc(100% - 55px)");let u;Ft.isDefinedAndNotNull(i.value)&&(u=Ht("<p></p>"),u.addClass("card-title"),u.addClass("truncate-text"),f=Pt(i.value,o,r,zt),u.html(f),d.append(u));if(Ft.isDefinedAndNotNull(i.valueSmall)){Ft.isDefinedAndNotNull(i.value)&&u.css("line-height","30px");const g=Ht("<p></p>");g.addClass("card-sub-title");var f=Pt(i.valueSmall,o,r,zt);g.html(f),d.append(g)}if(l.append(d),s.append(l),Ft.isDefinedAndNotNull(i.footer)){const b=Ht("<div></div>");b.addClass("bida-card-footer");const y=Ht("<div></div>");y.addClass("stats");r=Pt(i.footer,o,r,zt);y.html(r),b.append(y),s.append(b)}if(Ft.isDefinedAndNotNull(i.link)){const v=Ht("<a></a>");v.addClass("bida-a"),v.attr("href",i.link),Ft.isDefinedAndNotNull(i.linkTarget)&&v.attr("target",i.linkTarget),v.append(s),Ht(n).append(v),!0!==a&&(v.css("height",e),P(v))}else Ht(n).append(s),!0!==a&&(s.css("height",e),P(s))}(n,c,i,a.itemData,r,t,e);break;case"badge":!function(t,n,e,i,o,a){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawBadges`,pIndex:t,pItemHeight:n,pItemSel:e,pItemData:i,pDefaultConfig:o,pIsSafeItem:a,featureDetails:Ft.featureDetails});t="hsl("+23*t%350+", 79%, 45%)";let r,s,l,c=0,d=.98,u=.28,f=!1,p=.15,h=u-p,m=.28;const g=Ht("<div></div>");g.addClass("bida-item-badge"),Ft.isDefinedAndNotNull(i.title)&&(c+=1);Ft.isDefinedAndNotNull(i.icon)&&(c+=1);Ft.isDefinedAndNotNull(i.value)&&(c+=1);0<c&&(d/=c,h/=c);if(Ft.isDefinedAndNotNull(i.title)){const v=Ht("<div></div>");v.addClass("bida-item-badge-text"),s=Ht("<span></span>"),s.css("color",i.titleColor||t);var b=Pt(i.title,o,a,zt);s.html(b),v.append(s),g.append(v)}else m+=p/2,u+=p/3;if(Ft.isDefinedAndNotNull(i.icon)){const D=Ht("<div></div>");D.addClass("bida-item-badge-icon"),r=Ht("<span></span>"),Ft.isDefinedAndNotNull(i.icon)&&"fa-"===i.icon.substr(0,"fa-".length)?(r.addClass("fa "+i.icon),r.css("color",i.iconColor||t)):(Ft.isDefinedAndNotNull(i.iconText)&&(b=Pt(i.iconText,o,a,zt),r.html(b)),Ft.isDefinedAndNotNull(i.icon)&&(f=!0,r.css("background-image","url("+i.icon+")"),r.addClass("bida-item-badge-icon-image"))),D.append(r),g.append(D)}else p+=m/3,u+=m/3;if(Ft.isDefinedAndNotNull(i.value)){const x=Ht("<div></div>");x.addClass("bida-item-badge-text-value"),l=Ht("<span></span>"),l.css("color",i.valueColor||t);a=Pt(i.value,o,a,zt);l.html(a),x.append(l),g.append(x)}else p+=u/3,m+=u/2;Ft.isDefinedAndNotNull(i.link)&&(g.css("cursor","pointer"),g.on("click",function(){Ft.link(i.link,i.linkTarget)}));function y(){var t=n,e=Math.min(t,g.width());s&&(s.css("font-size",e*p+"px"),s.css("line-height",t*(d-h)+"px")),r&&(r.css("font-size",e*m+"px"),r.css("line-height",t*d+"px"),f&&(r.css("height",t*d+"px"),r.css("width",t*d+"px"))),l&&(l.css("font-size",e*u+"px"),l.css("line-height",t*d+"px"))}Ht(e).append(g),y(),_t.on("resize",function(){y()})}(n,c,i,a.itemData,r,e);break;case"list":!function(t,e,n,m,i,g){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawList`,pItemSel:t,pItemHeight:e,pItemData:n,pDefaultConfig:m,pOversize:i,pIsSafeItem:g,featureDetails:Ft.featureDetails});const o=Ht("<div></div>");o.addClass("bida-item-list-div");const l=Ht("<ul></ul>");function c(p,h){Ht.each(h,function(t,e){const n=Ht("<li></li>");n.addClass("bida-item-list-item");const i=Ht("<div></div>");if(i.addClass("list-item-content"),t<h.length-1&&i.css("border-bottom","1px solid #eeeeee"),Ft.isDefinedAndNotNull(e.icon)||Ft.isDefinedAndNotNull(e.iconText)){const r=Ht("<div></div>");r.addClass("listItem-content-icon-div");const s=Ht("<span></span>");if(e.icon&&"fa-"===e.icon.substr(0,"fa-".length))s.addClass("fa "+e.icon),s.css("background",e.iconBackColor||"hsl("+23*t%350+", 79%, 45%)");else{if(Ft.isDefinedAndNotNull(e.iconText)){const l=Pt(e.iconText,m,g,zt),c=Ht("<span></span>");c.addClass("list-item-content-icon-text"),c.html(l),s.append(c)}Ft.isDefinedAndNotNull(e.icon)&&s.css("background-image","url("+e.icon+")"),s.css("background-color",e.iconBackColor)}s.addClass("list-item-content-icon"),s.css("color",e.iconColor||"white"),r.append(s),i.append(r)}const o=Ht("<div></div>");if(o.addClass("list-item-content-text"),Ft.isDefinedAndNotNull(e.icon)&&o.css("width","calc(100% - 55px)"),Ft.isDefinedAndNotNull(e.title)){const d=Ht("<span></span>");d.addClass("list-item-title"),d.addClass("truncate-text");var a=Pt(e.title,m,g,zt);d.html(a),o.append(d)}if(Ft.isDefinedAndNotNull(e.text)){const u=Ht("<span></span>");u.addClass("list-item-text");a=Pt(e.text,m,g,zt);u.html(a),o.append(u)}if(i.append(o),n.append(i),Ft.isDefinedAndNotNull(e.link)){const f=Ht("<a></a>");f.addClass("bida-a"),f.attr("href",e.link),f.append(n),Ft.isDefinedAndNotNull(e.linkTarget)&&f.attr("target",e.linkTarget),p.append(f)}else p.append(n)})}l.addClass("bida-item-list");const a=[];Ht.each(n,function(t,e){Ft.isDefinedAndNotNull(e.group)||a.push(e)});n=Ft.groupObjectArray(n,"group");Rt.debug.info({fct:`${Ft.featureDetails.name} - drawList`,noGroupsArr:a,groupsArr:n,featureDetails:Ft.featureDetails}),c(l,a),Ht.each(n,function(t,e){const n=Ht("<li></li>");n.addClass("bida-item-list-item-group");let i="#f1f1f1";e[0].groupBackColor&&(i=e[0].groupBackColor);let o="inherit";e[0].groupColor&&(o=e[0].groupColor);const a=Ht("<div></div>");a.addClass("list-group-content"),a.css("border-left","3px solid "+i);const r=Ht("<span></span>");r.addClass("list-group-content-title");t=Pt(t,m,g,zt);r.css("background",i),r.css("color",o),r.html(t),a.append(r),n.append(a);const s=Ht("<ul></ul>");s.addClass("bida-item-list-grouped"),c(s,e),a.append(s),l.append(n)}),o.append(l),Ht(t).append(o),!0!==i&&(o.css("height",e),P(o))}(i,c,a.itemData,r,t,e);break;case"table":-1<Ht.inArray("table",r.features)?function(t,e,n,o,i,a){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawTable`,pItemSel:t,pItemHeight:e,pItemData:n,pDefaultConfig:o,pOversize:i,pIsSafeItem:a,featureDetails:Ft.featureDetails});const r=Ht("<div></div>");r.addClass("bida-item-table-div");const s=Ht("<table></table>");s.addClass("bida-item-table"),Ft.isDefinedAndNotNull(n.header)&&0<n.header.length&&Ht.each(n.header,function(t,e){if(Ft.isDefinedAndNotNull(e.text)){const n=Ht("<th></th>");n.addClass("bida-item-table-header"),n.css("background-color",e.background||o.table.header.background),n.css("text-align",e.textAlign||o.table.header.textAlign),n.css("color",e.color||o.table.header.color),n.css("border",e.border||o.table.header.border);e=Pt(e.text,o,a,zt);n.html(e),s.append(n)}});Ft.isDefinedAndNotNull(n.data)&&0<n.data.length&&Ht.each(n.data,function(t,e){const i=Ht("<tr></tr>");i.addClass("bida-item-table-row"),t%2==0?(i.addClass("bida-item-table-row-even"),i.css("background",o.table.evenRow.background),i.css("text-align",o.table.evenRow.textAlign),i.css("color",o.table.evenRow.color),i.css("border-bottom",o.table.evenRow.borderBottom)):(i.addClass("bida-item-table-row-odd"),i.css("background",o.table.oddRow.background),i.css("text-align",o.table.oddRow.textAlign),i.css("color",o.table.oddRow.color),i.css("border-bottom",o.table.oddRow.borderBottom)),Ht.each(e,function(t,e){if(Ft.isDefinedAndNotNull(e.text)){const n=Ht("<td></td>");n.addClass("bida-item-table-cell"),n.css("background",e.background||o.table.cells.background),n.css("text-align",e.textAlign||o.table.cells.textAlign),n.css("color",e.color||o.table.cells.color),n.css("border",e.border||o.table.cells.border);e=Pt(e.text,o,a,zt);n.html(e),i.append(n)}}),s.append(i)});r.append(s),Ht(t).append(r),!0!==i&&(r.css("height",e),P(r))}(i,c,a.itemData,r,t,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Tables is not activaed.",featureDetails:Ft.featureDetails}));break;case"map":-1<Ht.inArray("map",r.features)?function(x,k,w,C,N,T){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawD3Map`,pItemSel:x,pItemHeight:k,pItemData:w,pItemConfig:C,pDefaultConfig:N,pIsSafeItem:T,featureDetails:Ft.featureDetails});try{const S=d3,n=Ht(x),A=Wt(C.tourEnabled,N.mapOptions.tour.enabled,!0),I=Wt(C.tourSpeed,N.mapOptions.tour.speed)/2e3,M=Wt(C.tourStart,N.mapOptions.tour.start),E=Wt(C.circlesShadows,N.mapOptions.circles.shadows,!0),O=Wt(C.circlesRadius,N.mapOptions.circles.radius),L=Wt(C.circlesColor,N.mapOptions.circles.color),z=Wt(C.circlesOpacity,N.mapOptions.circles.opacity),_=Wt(C.circlesOpacityHover,N.mapOptions.circles.opacityHover),i=Wt(C.mapCenterLongitude,N.mapOptions.map.centerLongitude),o=Wt(C.mapCenterLatitude,N.mapOptions.map.centerLatitude),a=Wt(C.mapInitialZoom,N.mapOptions.map.initialZoom),R=Wt(C.mapZoomEnabled,N.mapOptions.map.zoomEnabled,!0),H=Wt(C.mapColor,N.mapOptions.map.color),F=Wt(C.mapStroke,N.mapOptions.map.stroke),W=Wt(C.mapStrokeWidth,N.mapOptions.map.strokeWidth),P=Wt(C.mapShadows,N.mapOptions.map.shadows,!0),r=Ht(x).attr("id")+"-shadow",j=Ht(x).attr("id")+"-ocean",B=Ht(x).attr("id")+"-highlight",$=Ht(x).attr("id")+"-shading",J="url(#"+j+")",U="url(#"+B+")",G="url(#"+$+")";let l,c,d,u,f,p,h,m,g,b=Wt(C.tourShadowEffect,N.mapOptions.tour.shadowEffect,!0);A||(b=!1);const q=function(){return n.width()},Y=function(){return[q()/2,k/2]},V=S.select(x).append("svg").attr("class","bida-map-svg").attr("width",q()).attr("height",k);(P||E)&&(tt(V,r,2,2,1),u="url(#"+r+")");let y,v=S.now(),D=0;g=(A?S.geoOrthographic().scale(k/2.5+20):S.geoNaturalEarth1().center([i,o]).scale(k/2.5*a)).translate(Y());const Q=S.geoPath().projection(g),s=function(t){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawD3Map`,geoJSONData:t,featureDetails:Ft.featureDetails});const e=V.append("g");if(b){const n=V.append("defs").append("radialGradient").attr("id",j).attr("cx","75%").attr("cy","25%");n.append("stop").attr("offset","5%").attr("stop-color","#fff"),n.append("stop").attr("offset","100%").attr("stop-color","rgb(240,240,240)");const o=V.append("defs").append("radialGradient").attr("id",B).attr("cx","75%").attr("cy","25%");o.append("stop").attr("offset","5%").attr("stop-color","rgb(250,250,250)").attr("stop-opacity","0.3"),o.append("stop").attr("offset","100%").attr("stop-color","rgb(230,230,230)").attr("stop-opacity","0.15");const a=V.append("defs").append("radialGradient").attr("id",$).attr("cx","55%").attr("cy","45%");a.append("stop").attr("offset","30%").attr("stop-color","#fff").attr("stop-opacity","0"),a.append("stop").attr("offset","100%").attr("stop-color","rgb(220,220,220)").attr("stop-opacity","0.3"),l=e.append("circle").attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale()).style("fill",J)}function i(){h.attr("d",Q(t)),b&&(l.attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale()),c.attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale()),d.attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale())),m.attr("transform",function(t){return"translate("+g([t.longitude,t.latitude])+")"}).attr("r",function(t){if(A&&1.57<S.geoDistance([t.longitude,t.latitude],g.invert(Y())))return 0;return Wt(t.radius,O)})}if(P&&(f=u),h=e.append("path").attr("d",Q(t)).attr("class","bida-map-path").style("filter",f).style("stroke",F).style("stroke-width",W).style("fill",H),b&&(c=e.append("circle").attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale()).style("fill",U),d=e.append("circle").attr("cx",q()/2).attr("cy",k/2).attr("r",g.scale()).style("fill",G)),E&&(p=u),m=e.selectAll(".bida-map-circle").data(w).enter().append("circle").filter(function(t){return Ft.isDefinedAndNotNull(t.radius)?0<t.radius:0<O}).attr("class","bida-map-circle").style("filter",p).attr("fill",function(t){return t.color||L}).style("opacity",z).on("mouseover",function(t,e){Ft.isDefinedAndNotNull(e.link)&&Ht(this).css("cursor","pointer"),Ft.isDefinedAndNotNull(e.tooltip)&&(e=Pt(e.tooltip,N,T,zt),Ft.tooltip.show(e)),Ht(this).css("opacity",_)}).on("mousemove",function(t,e){Ft.isDefinedAndNotNull(e.tooltip)&&Ft.tooltip.setPosition(t)}).on("mouseout",function(){Ft.tooltip.hide()}).on("click",function(t,e){Ft.isDefinedAndNotNull(e.link)&&Ft.link(e.link,e.linkTarget)}).attr("transform",function(t){return"translate("+g([t.longitude,t.latitude])+")"}).attr("r",function(t){return Wt(t.radius,O)}),A){let t=0,e=-1,n;"left"===(C.tourDirection||N.mapOptions.tour.direction)&&(e=1);const r=function(){t+=1,t%60==0&&(0===Ht(x).length&&y.stop(),t=0),t%3==0&&(n=S.now()-v,g.rotate([(I*n+M)*e,-10,0]),i())};y=S.timer(r),K.d3Timer.push(y),V.on("mouseover",function(){D=S.now()-v,y.stop()}),V.on("mouseout",function(){v=S.now()-D,y.restart(r)}),document.addEventListener("visibilitychange",function(){document.hidden?y.stop():y.restart(r)})}else if(R){const s=S.zoom().scaleExtent([1,8]).on("zoom",function(t){e.attr("transform",t.transform)});V.call(s),V.on("contextmenu",function(t){t.preventDefault(),V.call(s.transform,S.zoomIdentity.scale(1))})}_t.on("resize",function(){V.attr("width",q()),V.attr("height",k),g.translate(Y()),i()})};var t,e;A?X.tour?s(X.tour):(t=Z+"world-tour.json",Ht.getJSON(t,function(t){X.tour=t,s(X.tour)})):X.zoom?s(X.zoom):(e=Z+"world-zoom.json",Ht.getJSON(e,function(t){X.zoom=t,s(X.zoom)}))}catch(t){Ht(x).empty(),Ft.errorMessage.show(x,N.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawD3Map`,msg:"Error while try to render clock",err:t,featureDetails:Ft.featureDetails})}}(i,c,a.itemData,s,r,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Maps is not activaed.",featureDetails:Ft.featureDetails}));break;case"clock":-1<Ht.inArray("clock",r.features)?function(z,t,_,R,H){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawClock`,pItemSel:z,pItemHeight:t,pItemData:_,pItemConfig:R,pDefaultConfig:H,featureDetails:Ft.featureDetails});try{const F=d3,n=Ht(z),W=Ht(z).attr("id")+"-clock",P=Ht(z).attr("id")+"-shadow",j="#"+W,B=Ht(z).attr("id")+"-clockhands",$=.0174532925,J=Wt(R.secondLabel,H.clockOptions.second.label,!0),U=Wt(R.circleWidth,H.clockOptions.circle.width);let a=new Date,r,s=0,l=Wt(R.shadows,H.clockOptions.shadows,!0),c,d,u,f,p,h,m,g,b,y,v,D,x,k,w,C,N,T,S,A,I,M,E,O,L;U<=0&&(l=!1);const G=function(){return n.width()},q=function(){return Math.floor(t/2)-2};if(Ft.isDefinedAndNotNull(_)&&Ft.isDefinedAndNotNull(_.startDate))try{var e=Date.parse(_.startDate);s=e-a}catch(t){Rt.debug.error({fct:`${Ft.featureDetails.name} - drawClock`,msg:"Error while try to parse clock date: itemData has to be an iso date. The local time will be used.",err:t,featureDetails:Ft.featureDetails})}const Y=function(t){let e="";var n;return Ft.isDefinedAndNotNull(t)&&(n=Rt.locale&&Rt.locale.getLanguage?Rt.locale.getLanguage():void 0,e=t.replace("#date#",V(a)),e=e.replace("#time#",a.toLocaleTimeString(n)),e=Ft.cutString(e,15)),e},i=function(){var t,e=J?1.05:1.2;E=Math.min(G()/2,q()*e-U/3),A=F.scaleLinear().range([0,330]).domain([0,11]),I=F.scaleLinear().range([0,354]).domain([0,59]),M=F.scaleLinear().range([0,354]).domain([0,59]),c=.35*E,d=.55*E,u=.7*E,f=.7*E,p=.6*E,h=.1*E,m=.51*E,L=.75*E,w=.835*E+U/3,b=Math.max(Math.floor(.12*E),12),y=Math.max(Math.floor(.1*E),9),g=b/2.15,C=y/2.15,x=Math.floor(.13*E),D=.3*E,v=-.3*E+x,k=.03*E*Wt(R.handsCoverSize,H.clockOptions.hands.coverSize),O=[{type:"hour",value:0,length:-c,scale:A},{type:"minute",value:0,length:-d,scale:I},{type:"second",value:0,length:-u,scale:M,balance:30}];const n=function(){a=new Date,a.setMilliseconds(a.getMilliseconds()+s),O[0].value=a.getHours()%12+a.getMinutes()/60,O[1].value=a.getMinutes(),O[2].value=a.getSeconds()};n(),N=N||F.select(z).append("svg").attr("id",W).attr("class","bida-clock-svg"),N.attr("width",G()).attr("height",2*q()),T||(T=N.append("g").attr("transform","translate("+G()/2+","+q()+")"),l&&(tt(N,P,2,2,1),r="url(#"+P+")"),T.append("g").append("circle").attr("class","bida-clock-circle").style("filter",r).style("stroke",Wt(R.circleColor,H.clockOptions.circle.color)).style("stroke-width",U+"px").style("fill",Wt(R.circleFillColor,H.clockOptions.circle.fillColor)),T.selectAll(".bida-clock-second-tick").data(F.range(0,60)).enter().append("line").attr("class","bida-clock-second-tick").attr("x1",0).attr("x2",0),T.selectAll(".bida-clock-hour-tick").data(F.range(0,12)).enter().append("line").attr("class","bida-clock-hour-tick").attr("x1",0).attr("x2",0),T.selectAll(".bida-clock-hour-label").data(F.range(3,13,3)).enter().append("text").attr("class","bida-clock-hour-label").attr("text-anchor","middle"),T.append("text").attr("x",0).attr("class","bida-clock-label").attr("text-anchor","middle"),T.append("text").attr("x",0).attr("class","bida-clock-label2").attr("text-anchor","middle"),J&&T.selectAll(".bida-clock-second-label").data(F.range(5,61,5)).enter().append("text").attr("class","bida-clock-second-label").attr("text-anchor","middle")),T.attr("transform","translate("+G()/2+","+q()+")"),T.selectAll(".bida-clock-circle").attr("x",0).attr("y",0).attr("r",L),T.selectAll(".bida-clock-second-tick").attr("y1",f).attr("y2",f-10).attr("transform",function(t){return"rotate("+M(t)+")"}).style("stroke",Wt(R.secondTickColor,H.clockOptions.second.tickColor)),T.selectAll(".bida-clock-hour-tick").attr("y1",p).attr("y2",p+h).attr("transform",function(t){return"rotate("+A(t)+")"}).style("stroke",Wt(R.hourTickColor,H.clockOptions.hour.tickColor)),T.selectAll(".bida-clock-hour-label").attr("x",function(t){return m*Math.sin(A(t)*$)}).attr("y",function(t){return-m*Math.cos(A(t)*$)+g}).text(function(t){return t}).style("font-size",b+"px").style("fill",Wt(R.hourLabelColor,H.clockOptions.hour.labelColor)),Ft.isDefinedAndNotNull(J)&&T.selectAll(".bida-clock-second-label").attr("x",function(t){return w*Math.sin(M(t)*$)}).attr("y",function(t){return-w*Math.cos(M(t)*$)+C}).text(function(t){return t}).style("font-size",y+"px").style("fill",Wt(R.secondLabelColor,H.clockOptions.second.labelColor)),Ft.isDefinedAndNotNull(_)&&Ft.isDefinedAndNotNull(_.label)&&(t=Y(_.label),T.selectAll(".bida-clock-label").text(t).attr("y",v).style("font-size",x+"px").style("fill",Wt(R.labelColor,H.clockOptions.label.labelColor))),Ft.isDefinedAndNotNull(_)&&Ft.isDefinedAndNotNull(_.label2)&&(t=Y(_.label2),T.selectAll(".bida-clock-label2").text(t).attr("y",D).style("font-size",x+"px").style("fill",Wt(R.labelColor2,H.clockOptions.label.labelColor2))),S||(S=T.append("g").attr("id",B),T.append("g").append("circle").attr("class","bida-clock-hands-cover"),S.selectAll("line").data(O).enter().append("line")),T.selectAll(".bida-clock-hands-cover").attr("x",0).attr("y",0).attr("r",k).style("fill",Wt(R.handCoverFillColor,H.clockOptions.hands.coverFillColor)).style("stroke",Wt(R.handCoverStrokeColor,H.clockOptions.hands.coverStrokeColor)),S.selectAll("line").data(O).attr("class",function(t){return"bida-clock-"+t.type+"-hand"}).attr("x1",0).attr("y1",function(t){return t.balance||0}).attr("x2",0).attr("y2",function(t){return t.length}).attr("transform",function(t){return"rotate("+t.scale(t.value)+")"}).style("stroke",Wt(R.handColor,H.clockOptions.hands.color));const i=function(){K.innerItemsIntervals&&K.innerItemsIntervals[j]&&clearInterval(K.innerItemsIntervals[j])},o=function(){K.innerItemsIntervals[j]=setInterval(function(){var t;0===Ht(j).length?clearInterval(K.innerItemsIntervals[j]):(n(),S&&S.selectAll("line").data(O).attr("transform",function(t){return"rotate("+t.scale(t.value)+")"}),T&&(Ft.isDefinedAndNotNull(_)&&Ft.isDefinedAndNotNull(_.label)&&(t=Y(_.label),T.selectAll(".bida-clock-label").text(t)),Ft.isDefinedAndNotNull(_)&&Ft.isDefinedAndNotNull(_.label2)&&(t=Y(_.label2),T.selectAll(".bida-clock-label2").text(t))))},1e3)};i(),o(),document.addEventListener("visibilitychange",function(){(document.hidden?i:o)()})};i(),_t.on("resize",function(){i()})}catch(t){Ht(z).empty(),Ft.errorMessage.show(z,H.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawClock`,msg:"Error while try to render clock",err:t,featureDetails:Ft.featureDetails})}}(i,c,a.itemData,s,r):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Analogue Clocks is not activaed.",featureDetails:Ft.featureDetails}));break;case"calendar":-1<Ht.inArray("calendar",r.features)?function(t,e,n,i,l,o,c){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawCalendar`,pItemSel:t,pItemHeight:e,pItemData:n,pItemConfig:i,pDefaultConfig:l,pOversize:o,pIsSafeItem:c,featureDetails:Ft.featureDetails});const a=Ht(t),r=a.attr("id")+"-calendar",s=Ht("<div></div>");s.addClass("bida-calendar"),s.attr("id",r),a.append(s);var d=Wt(i.eventLimitPerDay,l.calendarOptions.eventLimitPerDay),u=Wt(i.displayTime,l.calendarOptions.displayTime,!0),f=Wt(i.hours12,l.calendarOptions.hours12,!0),t=Wt(i.timeGridStartTime,l.calendarOptions.timeGridStartTime);let p=Wt(i.viewType,l.calendarOptions.viewType),h=Rt.locale&&Rt.locale.getLanguage?Rt.locale.getLanguage():void 0,m=Wt(i.stickyHeaderDates,l.calendarOptions.stickyHeaderDates);"true"===m&&(m=!0);"false"===m&&(m=!1);f||"en"!==h||(h="en-bz");const g={month:"2-digit",year:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:f,locale:h};["dayGridMonth","dayGridWeek","timeGridWeek","listWeek","listMonth","listDay"].indexOf(p)<0&&(p="dayGridMonth");const b=FullCalendar,y=document.getElementById(r),v=new b.Calendar(y,{height:e,events:n,displayEventTime:u,initialView:p,eventDisplay:"block",stickyHeaderDates:m,eventMouseEnter:function(t){t.event&&t.event._def&&((i=t.event._def).extendedProps&&i.extendedProps.link&&Ht(t.el).css("cursor","pointer"));const e=Ht("<div></div>");e.addClass("bida-calendar-event-tt");const n=Ht("<b></b>");n.addClass("bida-calendar-event-tt-title");var i=Pt(t.event.title,l,c,zt);Ft.isDefinedAndNotNull(i)&&(n.append(i),e.append(n),e.append("<br>"));const o=Ht("<div></div>");o.addClass("bida-calendar-event-tt-subtitle");const a=Ht("<span></span>");a.addClass("fa fa-clock-o"),a.addClass("bida-calendar-event-tt-icon"),o.append(a);const r=Ht("<span></span>");if(r.addClass("bida-calendar-event-tt-date"),r.append(" "),r.append(b.formatDate(t.event.start,g)),Ft.isDefinedAndNotNull(t.event.end)&&(r.append(" - "),r.append(b.formatDate(t.event.end,g))),o.append(r),e.append(o),Ft.isDefinedAndNotNull(t.event.extendedProps.details)){i=Pt(t.event.extendedProps.details,l,c,zt);if(Ft.isDefinedAndNotNull(i)){const s=Ht("<div></div>");s.addClass("bida-calendar-event-tt-content"),s.append(i),e.append(s)}}Ft.tooltip.show(e),Ft.tooltip.setPosition(t.jsEvent)},eventMouseLeave:function(){Ft.tooltip.hide()},eventClick:function(t){t.jsEvent.preventDefault(),t.event&&t.event._def&&((t=t.event._def).extendedProps&&t.extendedProps.link?Ft.link(t.extendedProps.link,t.extendedProps.linkTarget):t.extendedProps?Ft.link(t.url,t.extendedProps.linkTarget):Ft.link(t.url)),Ft.tooltip.hide()},dayMaxEventRows:d,eventContent:function(t){return{html:Pt(t.event.title,l,c,zt)}},allDaySlot:!1,nowIndicator:!0,views:{dayGrid:{}},eventTimeFormat:{hour:g.hour,minute:g.minute,hour12:g.hour12},scrollTime:t,slotLabelFormat:{hour:g.hour,minute:g.minute,hour12:g.hour12}});v.setOption("locale",h),v.changeView(p),v.render(),!0!==o&&(s.css("height",e),s.addClass("bida-item-div-overflow"),P(s));_t.on("resize",function(){v.render()})}(i,c,a.itemData,s,r,t,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Calendar is not activaed.",featureDetails:Ft.featureDetails}));break;case"note":-1<Ht.inArray("note",r.features)?function(o,a,t,e,n,r,i,s){Rt.debug.info({fct:`${Ft.featureDetails.name} - drawNoteEditor`,pItemID:o,pItemSel:a,pItemHeight:t,pItemData:e,pItemConfig:n,pDefaultConfig:r,pOversize:i,pIsSafeItem:s,featureDetails:Ft.featureDetails});const l=Ht(a),c=l.attr("id")+"-note",d=Ht("<div></div>");d.addClass("bida-note"),d.attr("id",c),d.css("height",t),l.append(d);const u=c+"-save";function f(){Ht("#"+u).parent().addClass("pell-button-disabled")}const p=[];p.push(`<select class="pell-button-c-select" onchange="$('#${c}').trigger('colorchange', this.value );">`),["#000","#f77272","#f7f772","#8af772","#72aef7","#c672f7"].forEach(function(t){p.push(`<option value="${t}" style="color:${t};">&#9632;</option>`)}),p.push("</select>"),j.init({element:document.getElementById(c),onChange:function(){Ht("#"+u).parent().removeClass("pell-button-disabled")},defaultParagraphSeparator:"p",styleWithCSS:!1,classes:{actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},actions:[{name:"Save",icon:'<i id="'+u+'" class="fa fa-save-as pell-button-c"></i>',title:"Save",result:function(){const t=d.find(".pell-content");Ft.loader.start(a),f();const e=t.html();var n=Ft.splitString2Array(e),i=r.items2Submit;Rt.server.plugin(b,{pageItems:i,x01:"noteUpload",x02:o,f01:n},{dataType:"text",success:function(){Ft.loader.stop(a),_t.trigger("shortnotesaved",{itemID:o,itemSel:a,clob:e}),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawNoteEditor`,msg:"Upload successful.",featureDetails:Ft.featureDetails})},error:function(t,e,n){Ft.loader.stop(a),Rt.message.clearErrors(),Rt.message.showErrors([{type:"error",location:["page"],message:r.errorMessage,unsafe:!1}]),Rt.debug.info({fct:`${Ft.featureDetails.name} - drawNoteEditor`,msg:"Error while try to upload NoteEditor Content",jqXHR:t,textStatus:e,errorThrown:n,featureDetails:Ft.featureDetails})}})}},{name:"Undo",icon:'<i class="fa fa-undo pell-button-c"></i>',title:"Undo",result:function(){j.exec("undo",!0)}},{name:"Redo",icon:'<i class="fa fa-repeat pell-button-c"></i>',title:"Redo",result:function(){j.exec("redo",!0)}},{name:"bold",icon:'<i class="fa fa-bold pell-button-c"></i>',title:"Bold"},{name:"italic",icon:'<i class="fa fa-italic pell-button-c"></i>',title:"Italic"},{name:"underline",icon:'<i class="fa fa-underline pell-button-c"></i>',title:"Underline"},{name:"strikethrough",icon:'<i class="fa fa-strikethrough pell-button-c"></i>',title:"Strikethrough"},{name:"heading1",icon:'<i class="fa fa-header pell-button-c"><sub>1</sub></i>',title:"Heading 1"},{name:"heading2",icon:'<i class="fa fa-header pell-button-c"><sub>2</sub></i>',title:"Heading 2"},{name:"paragraph",icon:'<i class="fa fa-paragraph pell-button-c"></i>'},{name:"olist",icon:'<i class="fa fa-list-ol pell-button-c"></i>',title:"Ordered List"},{name:"ulist",icon:'<i class="fa fa-list-ul pell-button-c"></i>',title:"Unordered List"},{name:"checkbox",icon:'<i class="fa fa-check-square-o pell-button-c"></i>',title:"checkbox",result:function(){j.exec("insertHTML",`<div><i class="fa fa-square-o" onmousedown="$(this).toggleClass(['fa-check-square-o', 'fa-square-o']);"> </i></div>`)}},{name:"resetformat",icon:'<i class="fa fa-eraser pell-button-c"></i>',title:"Remove Format",result:function(){j.exec("removeFormat",!0)}},{name:"highlight",icon:p.join(""),title:"Highlight",result:function(){}}]}),d.on("colorchange",function(t,e){"#000"===e?j.exec("hiliteColor","#fff"):j.exec("hiliteColor",e)});let h;h=e&&"object"==typeof e?e.text:e;h=Pt(h,r,s,zt);const m=d.find(".pell-content"),g=function(){var t=d.find(".pell-actionbar").height();m.css("height",d.height()-t)};m.html(h),g(),f(),d.find(".pell-button").removeAttr("title"),_t.on("resize",function(){g()})}(a.itemID,i,c,a.itemData,s,r,t,e):(Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"Feature - Editor is not activaed.",featureDetails:Ft.featureDetails}));break;default:Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"itemType not found (html, card, list, map, table, clock, calendar, calendarheatmap)",featureDetails:Ft.featureDetails})}else Ft.noDataMessage.show(i,r.noDataMessage);if(Ft.isDefinedAndNotNull(a.subText2)){const g=Ht(i).find(".bida-item-subtext-2");g.appendTo(i),g.addClass("bida-item-subtext-2-fin")}}else Ft.errorMessage.show(i,r.errorMessage),Rt.debug.error({fct:`${Ft.featureDetails.name} - drawItemRegionContent`,msg:"itemType is missing in JSON",featureDetails:Ft.featureDetails})}function P(t){const e=Ht(t);e.addClass("bida-item-div-overflow"),e.on("scroll",function(){e.scrollTop()+e.innerHeight()>=e[0].scrollHeight?e.addClass("bida-item-div-overflow-hidden"):e.removeClass("bida-item-div-overflow-hidden")});var n=e.innerHeight(),t=e[0].scrollHeight;Rt.debug.info({fct:`${Ft.featureDetails.name} - overFlowStyling`,innerHeight:n,scrollHeight:t,featureDetails:Ft.featureDetails}),t<=n&&0!==t&&e.addClass("bida-item-div-overflow-hidden")}}}};